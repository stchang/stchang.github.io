<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Homework 13</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript">
(function() {
  document.write('<link rel="stylesheet" href="katex/katex.min.css" />');
})();(function() {document.write('<scr' + 'ipt type="text/javascript" src="katex/katex.min.js"></scr' + 'ipt>');})();(function(f) {
  // A "simple" onLoad function
  if (window.document.readyState == "complete") {
    f();
  } else if (window.document.addEventListener) {
    window.document.addEventListener("DOMContentLoaded", f, false);
  } else if (window.attachEvent) {
    window.attachEvent("onreadystatechange", function() {
      if (window.document.readyState == "complete") {
        f();
      }
    });
  } else {
    var oldLoad = window.onload;
    if (typeof(oldLoad) == "function") {
      window.onload = function() {
        try {
          oldLoad();
        } finally {
          f();
        }
      };
    } else {
      window.onload = f;
    }
  }
})(function() {
  // This is an ugly way to change the doctype, in case the scribble document
  // did not use (with-html5).
  if (!(document.doctype && document.doctype.publicId == '')) {
    if (console && console.log) {
      console.log("Re-wrote the document to use the HTML5 doctype.\n"
                  + "  Consider using the following declaration:\n"
                  + "      @title[#:style (with-html5 manual-doc-style)]{â€¦}");
    }
    var wholeDoc = '<!doctype HTML>\n' + document.documentElement.outerHTML;
    document.open();
    document.clear();
    document.write(wholeDoc);
  }
  var inlineElements = document.getElementsByClassName("texMathInline");
  for (var i = 0; i < inlineElements.length; i++) {
    var e = inlineElements[i];
    katex.render(e.textContent, e, { displayMode:false, throwOnError:false });
  }
  var displayElements = document.getElementsByClassName("texMathDisplay");
  for (var i = 0; i < displayElements.length; i++) {
    var e = displayElements[i];
    katex.render(e.textContent, e, { displayMode:true, throwOnError:false });
  }
});
</script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CS450:<span class="mywbr"> &nbsp;</span> Higher Level Languages</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="info.html" class="tocviewlink" data-pltdoc="x">Course Info</a></td></tr><tr><td align="right"></td><td><a href="logistics.html" class="tocviewlink" data-pltdoc="x">Logistics</a></td></tr><tr><td align="right"></td><td><a href="policies.html" class="tocviewlink" data-pltdoc="x">Course Policies</a></td></tr><tr><td align="right"></td><td><a href="racketbasics.html" class="tocviewlink" data-pltdoc="x">Racket Basics and Style</a></td></tr><tr><td align="right"></td><td><a href="designrecipe.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td align="right"></td><td><a href="hw0.html" class="tocviewlink" data-pltdoc="x">Homework 0</a></td></tr><tr><td align="right"></td><td><a href="hw1.html" class="tocviewlink" data-pltdoc="x">Homework 1</a></td></tr><tr><td align="right"></td><td><a href="hw2.html" class="tocviewlink" data-pltdoc="x">Homework 2</a></td></tr><tr><td align="right"></td><td><a href="hw3.html" class="tocviewlink" data-pltdoc="x">Homework 3</a></td></tr><tr><td align="right"></td><td><a href="hw4.html" class="tocviewlink" data-pltdoc="x">Homework 4</a></td></tr><tr><td align="right"></td><td><a href="hw5.html" class="tocviewlink" data-pltdoc="x">Homework 5</a></td></tr><tr><td align="right"></td><td><a href="hw6.html" class="tocviewlink" data-pltdoc="x">Homework 6</a></td></tr><tr><td align="right"></td><td><a href="hw7.html" class="tocviewlink" data-pltdoc="x">Homework 7</a></td></tr><tr><td align="right"></td><td><a href="hw8.html" class="tocviewlink" data-pltdoc="x">Homework 8</a></td></tr><tr><td align="right"></td><td><a href="hw9.html" class="tocviewlink" data-pltdoc="x">Homework 9</a></td></tr><tr><td align="right"></td><td><a href="hw10.html" class="tocviewlink" data-pltdoc="x">Homework 10</a></td></tr><tr><td align="right"></td><td><a href="hw11.html" class="tocviewlink" data-pltdoc="x">Homework 11</a></td></tr><tr><td align="right"></td><td><a href="hw12.html" class="tocviewlink" data-pltdoc="x">Homework 12</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Homework 13</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Homework 13</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._hw13overview%29" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw13setup%29" class="tocviewlink" data-pltdoc="x">Setup</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw13tasks%29" class="tocviewlink" data-pltdoc="x">Tasks</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw13presubmit%29" class="tocviewlink" data-pltdoc="x">Before Submitting</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw13submit%29" class="tocviewlink" data-pltdoc="x">Submitting</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw13overview%29" class="tocsubseclink" data-pltdoc="x">Overview</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw13setup%29" class="tocsubseclink" data-pltdoc="x">Setup</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw13tasks%29" class="tocsubseclink" data-pltdoc="x">Tasks</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw13presubmit%29" class="tocsubseclink" data-pltdoc="x">Before Submitting</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw13submit%29" class="tocsubseclink" data-pltdoc="x">Submitting</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hw12.html" title="backward to &quot;Homework 12&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: Higher Level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3 class="heading"><a name="(part._hw13)"></a>Homework 13<span class="button-group"><a href="#(part._hw13)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="emph">Last updated: </span>Thu, 5 Dec 2024 14:47:00 -0500</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Out</span>: Wed Dec 04, 2024, 12pm (noon) EST</p><p><span style="font-weight: bold">Due</span>: Wed Dec 11, 2024, 12pm (noon) EST</p><h4 class="heading"><a name="(part._hw13overview)"></a>Overview<span class="button-group"><a href="#(part._hw13overview)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>In this assignment, you will get to use the "CS450 Lang" "high-level
language" that you created!</p><p>This hw will be graded accordingly:</p><p><div class="SIntrapara"><ul><li><p>correctness (16 pts)</p></li><li><p>design recipe (32 pts) (testing 20 pts)</p></li><li><p>style (10 pts)</p></li><li><p>README (2 pt)</p></li></ul></div><div class="SIntrapara"><span style="font-weight: bold">Total</span>: 60 points</div></p><h4 class="heading"><a name="(part._hw13setup)"></a>Setup<span class="button-group"><a href="#(part._hw13setup)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><span style="font-weight: bold">Create a new repository for this assignment</span> by going to the
<a href="https://github.com/cs450f24">CS450 Fall 2024 GitHub Organization</a> and clicking "New".</p><p><img src="new-repo-button.png" alt="" width="331" height="108"/></p><p><span style="font-weight: bold">Note</span>: The <a href="https://github.com/cs450f24">CS450 Fall 2024 GitHub Organization</a> must be the owner of the
repository. Do not create the repository in your own account.</p><p><div class="SIntrapara">On the "Create a new repository" screen:
</div><div class="SIntrapara"><ul><li><p>Name the repository <span class="stt">hw&lt;X&gt;-&lt;LASTNAME&gt;-&lt;FIRSTNAME&gt;</span> where
     <span class="stt">&lt;X&gt;</span> is the current homework number.</p><p>For example, I would name my hw13 repository <span class="stt">hw13-Chang-Stephen</span>.</p></li><li><p>Mark the repository as <span style="font-weight: bold">Private</span>.</p></li><li><p>Check "Add a README file".</p></li><li><p>Select the Racket template for the <span style="font-weight: bold">.gitignore</span>.</p></li><li><p>Choose whatever you wish for the <span style="font-weight: bold">license</span>.</p></li></ul></div></p><p>When done click "Create repository".</p><p><span style="font-weight: bold">NEW!</span></p><p><span style="font-weight: bold">Installing 450Lang</span></p><p>In this assignment, we will use our "450 lang" programming language, so we must install it first.</p><p>The easiest way to do so is from DrRacket, go to File -&gt; Package
Manager, and then install the <span class="stt">450lang</span> package. This will allow
you to use the language by writing <span class="stt">#lang 450lang</span> at the top of
a file.</p><h4 class="heading"><a name="(part._hw13tasks)"></a>Tasks<span class="button-group"><a href="#(part._hw13tasks)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><span class="Larger"><span style="font-weight: bold">Reading</span></span></p><ul><li><p>Review the <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a> section of the course website (topics that will be covered in future lectures are marked as such).</p></li></ul><p><span class="Larger"><span style="font-weight: bold">Notes and Reminders</span></span></p><p>Because we are using a different programming language for this assignment, we must do some other things (like testing) differently as well. Thus make sure to read the following list of hints and reminders.</p><ul><li><p>All code you write must still follow the <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a>! (Just submitting code is no longer sufficient.)</p></li><li><p><span class="strike" style="text-decoration:line-through">All functions should use <span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span> and the predicates from the <a href="designrecipe.html#%28part._datadesign%29" data-pltdoc="x">Data Design Recipe</a> step to help enforce the <a href="designrecipe.html#%28tech._signature%29" class="techoutside" data-pltdoc="x"><span class="techinside">Signature</span></a>.</span> No contracts are needed for this hw.</p></li><li><p>For <a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> and <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>, <span style="font-weight: bold">do not use</span> <span class="RktSym">check-expect</span> from the Beginning Student Language (even though the textbook says to). Instead, use <span class="strike" style="text-decoration:line-through"><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span> or other testing forms from <a href="https://docs.racket-lang.org/rackunit/api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">rackunit</span></a></span> the built in <span class="stt">chk=</span>.</p></li><li><p><a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> for a function definition should come right after the definition. <span class="strike" style="text-decoration:line-through">But <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> should be put into the <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28form._%28%28lib._rackunit%2Fmain..rkt%29._test-suite%29%29" class="RktStxLink" data-pltdoc="x">test-suite</a></span> in <span class="stt">tests.rkt</span>.</span> <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> should also come after a function definition. Try to think about corner cases and code coverage.</p></li><li><p><span class="strike" style="text-decoration:line-through">Also, remember that <a href="racketbasics.html#%28part._.Style%29" data-pltdoc="x">Racket Style</a> and <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a> reserves certain language features only for specific scenarios. For example, <span class="RktSym"><a href="https://docs.racket-lang.org/reference/set_.html#%28form._%28%28quote._~23~25kernel%29._set%21%29%29" class="RktStxLink" data-pltdoc="x">set!</a></span> and other "imperative" features are not allowed ever. Conditionals such as <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> should only be used with enumeration or itemization <a href="designrecipe.html#%28part._datadefinitions%29" data-pltdoc="x">Data Definitions</a>.</span> Style still matters! (when applicable)</p></li><li><p>The submitted program must be <span class="emph">only</span> a series of <span class="strike" style="text-decoration:line-through"><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>s</span> <span class="stt">bind/rec</span>s (both constants and function definitions are allowed) and tests/examples. Do not run any other code, i.e., do not automatically start <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span>! Not following this this will result in GradeScope errors and point deductions.</p></li><li><p>You may find the "Syntactic Test Coverage" feature in DrRacket useful. At minimum, one-hundred percent of your code should be run (if not tested) before submission.</p></li><li><p>The main code should go in a file named <span class="stt">hw13.rkt</span> where the first line of the file is <span class="stt">#lang 450lang</span> Tests should <span class="strike" style="text-decoration:line-through">go in a <span class="stt">tests.rkt</span> file of the appropriate format</span> also go in <span class="stt">hw13.rkt</span>.</p><p>In this assignment, each function should have at <span class="emph">minimum</span> of one (meaningful) <a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Example</span></a> and two <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Test</span></a>s (that are not the same as the example).</p></li></ul><p><span class="Larger"><span style="font-weight: bold">Programming</span></span></p><p>In this assignment, you will get to use the "CS450 Lang" programming language you created!</p><p>Specifically, we will use our language to write the following
recursive functions. You may use any sources to help you clarify or
understand the problem. These are all well-known functions so you
should have no problems finding information about them.</p><p>Each function must follow the design recipe and include all
required components. In particular, <span style="font-weight: bold">structurally recursion</span>
functions should follow their data definitions, while
<span style="font-weight: bold">generative</span> (non-structural) recursive functions should follow
the Generative Recursion Recipe. Don&rsquo;t forget to include a
<span style="font-weight: bold">Termination Argument</span> in the latter case.</p><ol><li><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk" style="display: inline-table; vertical-align: text-top; margin-top: 0;"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Ack : Nat Nat -&gt; Nat</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Computes the (2 argument) Ackermann function</span></td></tr></table></blockquote></div><div class="SIntrapara">This function is (in)famous because of its expensive time complexity (super exponential) so be careful when testing! (computing <span class="stt">(ack 4 1)</span> takes over 3 minutes on my machine).</div></p></li><li><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk" style="display: inline-table; vertical-align: text-top; margin-top: 0;"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">isort : List&lt;Num&gt; -&gt; List&lt;Num&gt;</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Takes a list of numbers and sorts it in ascending order.</span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="stt">isort</span> should call the following function (that you define):
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">insert : (Num Num -&gt; Bool) Num List&lt;X&gt; -&gt; List&lt;X&gt;</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Takes a comparison function `cmp`, a number `x`, and a list of numbers,</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">and inserts the number into the list</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">immedicately before the first list element `y` where (cmp x y)=false.</span></td></tr></table></blockquote></div></p></li><li><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk" style="display: inline-table; vertical-align: text-top; margin-top: 0;"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">reduce : (X Y -&gt; Y) Y List&lt;X&gt; -&gt; Y</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Performs a left-fold with the given function, initial value, and list.</span></td></tr></table></blockquote></li><li><p>Implement these angle-conversion functions <a href="https://www.cs.umb.edu/~stchang/cs450/f24/lectures/lecture05.pdf">Lecture 05</a> of the course!</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">deg-&gt;rad : Degrees -&gt; Radians</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Converts an angle in degrees to radians</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">rad-&gt;deg : Radians -&gt; Degrees</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Converts an angle in radians to degrees</span></td></tr></table></blockquote><p>Then use the functions to implement a function that computes a <a href="https://en.wikipedia.org/wiki/Fractal_canopy">Fractal Tree</a>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">mk-fractal-tree : XCoord YCoord Degrees NonNegInt -&gt; FractalTree</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Starting at the given coordinate, computes a fractal tree by computing all its lines</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Specifically, recur `depth` times, with each iteration turning by both plus/neg degrees</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">ftree-&gt;img : FractalTree -&gt; Image</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Computes a 2htdp/image of a fractal tree by</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">repeatedly using `add-line` to add lines to an `empty-image`</span></td></tr></table></blockquote><p>A <span class="stt">FractalTree is a List&lt;Line&gt;</span> and a <span class="stt">Line</span> is a pair of (2htdp/image) coordinates <span class="stt">(list x1 y1 x2 y2)</span> that represents the endpoints of a line.</p><p><div class="SIntrapara">A <a href="https://en.wikipedia.org/wiki/Fractal_canopy">Fractal Tree</a> is computed by computing all the lines that make up the tree, recursively. Specifically, from a starting <span class="texMathInline">x_1,y_1</span> compute the endpoint of a line as follows:
                            </div><div class="SIntrapara"><ul><li><p><span class="texMathInline">x_2=x_1+d\cdot S\cdot cos(\theta)</span></p></li><li><p><span class="texMathInline">y_2=y_1+d\cdot S\cdot sin(\theta)</span></p></li></ul></div><div class="SIntrapara">where <span class="texMathInline">d</span> is the current depth, <span class="texMathInline">\theta</span> is the current angle, and <span class="texMathInline">S</span> is a <span class="stt">SCALE</span> constant.
                            In each iteration, there are two recursive calls that compute the next two lines. Each recursive call decrements the depth and adjusts the angle by positive and negative <span class="stt">TURN-ANGLE</span> degrees, respectively (where <span class="stt">TURN-ANGLE</span> is also a constant). Also, in each recursive call, the previously computed <span class="texMathInline">x_2</span> and <span class="texMathInline">y_2</span> become the next starting <span class="texMathInline">x_1,y_1</span>.</div></p><p>When the depth is zero, end the computation.</p><p>BE CAREFUL WITH ANGLES! the built-in
<span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._cos%29%29" class="RktValLink" data-pltdoc="x">cos</a></span> and <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._sin%29%29" class="RktValLink" data-pltdoc="x">sin</a></span> functions take an input angle in
radians. So you may need to make use of your <span class="stt">deg-&gt;rad</span> and <span class="stt">rad-&gt;deg</span> conversion functions.</p><p>Here is an example of an image produced with starting <span class="texMathInline">x_1=400</span>, <span class="texMathInline">y_1=200</span>, angle <span class="texMathInline">\theta=90</span> degrees, depth <span class="texMathInline">d=10</span> (and <span class="stt">SCALE</span>=10, <span class="stt">TURN-ANGLE</span>=20):</p><p><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._flip-vertical%29%29" class="RktValLink" data-pltdoc="x">flip-vertical</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">ftree-&gt;img</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">mk-fractal-tree</span><span class="stt"> </span><span class="RktVal">400</span><span class="stt"> </span><span class="RktVal">200</span><span class="stt"> </span><span class="RktVal">90</span><span class="stt"> </span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p><img src="fractal-tree.png" alt="" width="450" height="441"/></p><p>(the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._flip-vertical%29%29" class="RktValLink" data-pltdoc="x">flip-vertical</a></span> is used because the 2htdp/image coordinate system creates an inverted tree due to positive=down)</p></li></ol><p><span style="font-weight: bold">Data Definitions</span></p><p>In this assignment, the <span class="stt">#lang 450lang</span> you must use includes all
features we have explored this semester, and some more. To help you,
here are the Data definitions used in the implementation of the final
programming language.</p><ul><li><p><div class="SIntrapara">A <span style="font-weight: bold"><span class="stt">Program</span></span> is a <span class="stt">List&lt;TopLevel&gt;</span> where a <span class="stt">TopLevel</span> is
   </div><div class="SIntrapara"><ul><li><p><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">(bind/rec Var Expr)</span></p></li><li><p><span class="stt">Expr</span></p></li></ul></div></p><p>In other words, a "program" is a series of "top level" forms, which can be either an expression, or a version of <span class="stt">bind/rec</span> that only defines a variable (no body) (so it&rsquo;s analgous to racket <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>)</p></li><li><p>A <span style="font-weight: bold"><span class="stt">Variable</span></span> (<span class="stt">Var</span>) is a <span class="stt">Symbol</span></p></li><li><p><div class="SIntrapara">An <span style="font-weight: bold"><span class="stt">Atom</span></span> one of:
  </div><div class="SIntrapara"><ul><li><p><span class="stt">Number</span></p></li><li><p><span class="stt">String</span></p></li><li><p><span class="stt">SymBool</span></p></li></ul></div></p></li><li><p><div class="SIntrapara">A <span class="stt">SymBool</span> one of:
  </div><div class="SIntrapara"><ul><li><p><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">TRUE</span></p></li><li><p><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">FALSE</span></p></li></ul></div></p></li><li><p><div class="SIntrapara">A <span class="stt">450LangExpr</span> (<span style="font-weight: bold"><span class="stt">Expr</span></span> for short) is one of:
       </div><div class="SIntrapara"><ul><li><p><span class="stt">Atom</span></p></li><li><p><span class="stt">Variable</span></p></li><li><p><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">(Expr ? Expr : Expr)</span></p></li><li><p><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">(bind [Var Expr] Expr)</span></p></li><li><p><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">(bind/rec [Var Expr] Expr)</span></p></li><li><p><span class="stt"></span><span class="stt">&rsquo;</span><span class="stt">(fn List&lt;Var&gt; Expr)</span></p></li><li><p><span class="stt">(cons Expr List&lt;Expr&gt;)</span></p></li></ul></div><div class="SIntrapara"><span class="emph">Interpretation</span>: represents the surface-level syntax of CS450Lang programs. The last item is a function call, where the function to apply may either be a Racket function (if using a "built in" identifier), or a user-defined <span class="stt">fn</span> "lambda" function. The "ternary conditional" uses JS truthy semantics as in previous assignments. Similarly, some built-in functions, like <span class="stt">+</span>, follow JS semantics for non-number arguments like previously seen.</div></p></li><li><p><div class="SIntrapara">A <span class="stt">450LangResult</span> (<span style="font-weight: bold"><span class="stt">Result</span></span> for short) is one of:
       </div><div class="SIntrapara"><ul><li><p><span class="stt">Number</span></p></li><li><p><span class="stt">String</span></p></li><li><p><span class="stt">Boolean</span></p></li><li><p>(Racket) <span class="stt">List</span></p></li><li><p><span class="stt">Image</span> (2htdp/image)</p></li><li><p><span class="stt">NaN</span></p></li><li><p><span class="stt">FnResult</span></p></li><li><p><span class="stt">ErrorResult</span></p></li></ul></div><div class="SIntrapara"><span class="emph">Interpretation</span>: possible results after running a CS450Lang program. In this assignment, a <span class="stt">NaN</span> should be the result of any arithmetic involving unsupported non-number arguments, e.g., subtraction with strings.</div></p></li><li><p><div class="SIntrapara">A <span style="font-weight: bold"><span class="stt">FnResult</span></span> is one of:
       </div><div class="SIntrapara"><ul><li><p>Racket function</p></li><li><p><span class="stt">(fn-result List&lt;Symbol&gt; AST Environment)</span></p></li></ul></div><div class="SIntrapara"><span class="emph">Interpretation</span>: possible functions that can be called in a CS450Lang program. The second is the result of running a user-defined <span class="stt">fn</span> function (and is analogous to a <span class="RktSym"><a href="https://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span> in Racket). Note that the <span class="stt">fn-result</span> <span class="stt">Result</span> differs from the <span class="stt">fn-ast</span> <span class="stt">AST</span> node in that the former represents a result of running a program and must contain an <span class="stt">Environment</span> that gives meaning to any free variables in the body of the function, while the latter merely represents source code.</div></p></li><li><p><div class="SIntrapara">An <span style="font-weight: bold"><span class="stt">ErrorResult</span></span> is one of:
  </div><div class="SIntrapara"><ul><li><p><span class="stt">UNDEFINED-ERROR</span></p></li><li><p><span class="stt">NOT-FN-ERROR</span></p></li><li><p><span class="stt">ARITY-ERROR</span></p></li><li><p><span class="stt">CIRCULAR-ERROR</span></p></li></ul></div><div class="SIntrapara"><span class="emph">Interpretation</span>: Each of these are constant values representing possible "error" results from running a CS450Lang program.
  </div><div class="SIntrapara"><ul><li><p>An "undefined" error should occur when trying to use an undefined variable.</p></li><li><p>A "not fn" error should occur if attempting to call a non-function.</p></li><li><p>An "arity" error should occur if attempting to call a function with the wrong number of arguments. (Note that many functions in the initial environment should handle any number of arguments and should not generate this error, but user-defined <span class="stt">fn</span> functions must be given the exact number of requirement arguments when called.)</p></li><li><p>An "circular" error occurs when using <span class="stt">bind/rec</span> incorrectly (e.g., without a base case).</p></li></ul></div><div class="SIntrapara">If one of these errors occurs in an inner expression, it should propagrate to be the final result of the whole expression. If more than one error occurs, e.g., in arguments of a function call, their ordering the data definition specifies their precedence.</div></p></li></ul><p><span style="font-weight: bold">Initial Environment</span></p><p>A language is only as useful as it&rsquo;s initial environment, so this hw
has many more "built in" functions and datatypes compared to previous assignments.</p><ul><li><p>String and boolean basic data from previous assignments are available. Lists and image data types have been added</p></li><li><p><span class="stt">+</span> and other arithmetic follows JS coercion semantics as from previous assignments. When given lists, <span class="stt">+</span> appends lists together when all the arguments are lists. Further, when given a mix of lists and strings, the list elements are converted to strings and then "joined" together with commas (test it for yourself in JS!). For other non-number arguments, arithmetic functions follow the JS semantics from <a href="hw9.html" data-pltdoc="x">Homework 9</a>.</p></li><li><p>A <span class="stt">chk=</span> primitive, mapped to <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span> from <span class="stt">rackunit</span> is available. This allows you to write tests and examples for your functions. In addition, the following predicates are available for testing: <span class="stt">NaN?</span>, <span class="stt">UNDEFINED-ERROR?</span>, <span class="stt">NOT-FN-ERROR?</span>, <span class="stt">ARITY-ERROR?</span>, <span class="stt">CIRCULAR-ERROR?</span>.</p></li><li><p>In addition to the auto-converting functions from <a href="hw9.html" data-pltdoc="x">Homework 9</a> (<span class="stt">+</span>, <span class="stt">-</span>, <span class="stt">===</span>), here is a list of additional primitives in the <span class="stt">INIT-ENV</span> initial environment, and the Racket function it&rsquo;s associated with: <span class="stt">*</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span>, <span class="stt">/</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2F%29%29" class="RktValLink" data-pltdoc="x">/</a></span>, <span class="stt">li</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span>, <span class="stt">cns</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span>, <span class="stt">1st</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._first%29%29" class="RktValLink" data-pltdoc="x">first</a></span>, <span class="stt">2nd</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._second%29%29" class="RktValLink" data-pltdoc="x">second</a></span>, <span class="stt">3rd</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._third%29%29" class="RktValLink" data-pltdoc="x">third</a></span>, <span class="stt">4th</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._fourth%29%29" class="RktValLink" data-pltdoc="x">fourth</a></span>, <span class="stt">rest</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._rest%29%29" class="RktValLink" data-pltdoc="x">rest</a></span>, <span class="stt">mt</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty%29%29" class="RktValLink" data-pltdoc="x">empty</a></span>, <span class="stt">&lt;</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3c%29%29" class="RktValLink" data-pltdoc="x">&lt;</a></span>, <span class="stt">&gt;</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span>, <span class="stt">&lt;=</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3c~3d%29%29" class="RktValLink" data-pltdoc="x">&lt;=</a></span>, <span class="stt">&gt;=</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e~3d%29%29" class="RktValLink" data-pltdoc="x">&gt;=</a></span>, <span class="stt">-</span><span class="stt">-</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._sub1%29%29" class="RktValLink" data-pltdoc="x">sub1</a></span>, <span class="stt">++</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValLink" data-pltdoc="x">add1</a></span>, <span class="stt">cos</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._cos%29%29" class="RktValLink" data-pltdoc="x">cos</a></span>, <span class="stt">sin</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._sin%29%29" class="RktValLink" data-pltdoc="x">sin</a></span>,  <span class="stt">pi</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._pi%29%29" class="RktValLink" data-pltdoc="x">pi</a></span>, <span class="texMathInline">\pi</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._pi%29%29" class="RktValLink" data-pltdoc="x">pi</a></span></p></li><li><p>Here are the <span class="stt">2htdp/image</span> primitives in <span class="stt">INIT-ENV</span>: <span class="stt">empty-image</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._empty-image%29%29" class="RktValLink" data-pltdoc="x">empty-image</a></span>, <span class="stt">add-line</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._add-line%29%29" class="RktValLink" data-pltdoc="x">add-line</a></span>, <span class="stt">flip-vertical</span> : <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._flip-vertical%29%29" class="RktValLink" data-pltdoc="x">flip-vertical</a></span></p></li></ul><h4 class="heading"><a name="(part._hw13presubmit)"></a>Before Submitting<span class="button-group"><a href="#(part._hw13presubmit)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><span class="Larger"><span style="font-weight: bold">Testing</span></span></p><p><div class="SIntrapara"><span class="emph">Before</span> submitting, note:
</div><div class="SIntrapara"><ul><li><p>Do not submit until all code has been thoroughly tested (by you).</p></li><li><p>Assignments may or may not use a GradeScope Autograder, but either way, an Autograder is not a software development tool so do not use it as one. Code must be tested independent of any Autograder.</p></li><li><p>If you submit and get an Autograder error, this means
   the code you wrote is <span style="font-weight: bold">not complete and/or not correct</span> and it&rsquo;s up to you to figure out why.</p></li><li><p>Of course, the course staff is here and eager to help, but
cannot do so if a student does not explain what they&rsquo;ve tried
first (e.g., "why is the Autograder giving an error?" is not something
we can help with). At the very least you should report what error you
are seeing and which part of the error message you do not understand.</p></li><li><p>The Autograder test suite is subject to change.  This means that
the visible grade seen during submission is not the final grade.</p></li></ul></div></p><p><span class="Larger"><span style="font-weight: bold">Style</span></span></p><p>All code should follow proper <a href="racketbasics.html#%28part._.Style%29" data-pltdoc="x">Racket Style</a>.</p><p>Also, the repository itself must follow proper style. Specifically, it
<span style="font-weight: bold">must have appropriate commit messages</span>. See
<a href="https://cbea.ms/git-commit/">How to Write a Git Commit
Message</a> if you are unsure how to write a commit message.</p><p><span class="Larger"><span style="font-weight: bold">Files</span></span></p><p>A submission <span style="font-weight: bold">must have the following files</span> in the repository root:</p><ul><li><p><span class="stt">hw13.rkt</span>: Contains the hw solution code.</p><p>The first line should be <span class="stt">#lang 450lang</span></p></li><li><p><span class="stt">README.md</span>: Contains the <a href="policies.html#%28part._readme%29" data-pltdoc="x">required README information</a>, including <span style="font-weight: bold">the GitHub repo url</span>.</p></li></ul><h4 class="heading"><a name="(part._hw13submit)"></a>Submitting<span class="button-group"><a href="#(part._hw13submit)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>When you are done, submit your work to <a href="https://www.gradescope.com/courses/841919/assignments/5408202">Gradescope <span class="stt">hw13</span></a>. You must use
the "GitHub" <span style="font-weight: bold">Submission Method</span> and select your
<span class="stt">hw&lt;X&gt;-&lt;LASTNAME&gt;-&lt;FIRSTNAME&gt;</span> repository.</p><p><img src="gradescope-github-submit-button.png" alt="" width="503" height="166"/></p><p>Note that this is the only acceptable way to submit homework in this
course. (Do not manually upload files and do not email files to the
course staff. Homework submitted via any unapproved methods will not be graded.)</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hw12.html" title="backward to &quot;Homework 12&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: Higher Level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>