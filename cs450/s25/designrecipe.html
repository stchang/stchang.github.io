<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>The Design Recipe</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CS450:<span class="mywbr"> &nbsp;</span> Higher Level Languages</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="info.html" class="tocviewlink" data-pltdoc="x">Course Info</a></td></tr><tr><td align="right"></td><td><a href="logistics.html" class="tocviewlink" data-pltdoc="x">Logistics</a></td></tr><tr><td align="right"></td><td><a href="policies.html" class="tocviewlink" data-pltdoc="x">Course Policies</a></td></tr><tr><td align="right"></td><td><a href="racketbasics.html" class="tocviewlink" data-pltdoc="x">Racket Basics and Style</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td align="right"></td><td><a href="hw0.html" class="tocviewlink" data-pltdoc="x">Homework 0</a></td></tr><tr><td align="right"></td><td><a href="hw1.html" class="tocviewlink" data-pltdoc="x">Homework 1</a></td></tr><tr><td align="right"></td><td><a href="hw2.html" class="tocviewlink" data-pltdoc="x">Homework 2</a></td></tr><tr><td align="right"></td><td><a href="hw3.html" class="tocviewlink" data-pltdoc="x">Homework 3</a></td></tr><tr><td align="right"></td><td><a href="hw4.html" class="tocviewlink" data-pltdoc="x">Homework 4</a></td></tr><tr><td align="right"></td><td><a href="hw5.html" class="tocviewlink" data-pltdoc="x">Homework 5</a></td></tr><tr><td align="right"></td><td><a href="hw6.html" class="tocviewlink" data-pltdoc="x">Homework 6</a></td></tr><tr><td align="right"></td><td><a href="hw7.html" class="tocviewlink" data-pltdoc="x">Homework 7</a></td></tr><tr><td align="right"></td><td><a href="hw8.html" class="tocviewlink" data-pltdoc="x">Homework 8 (Extra Credit)</a></td></tr><tr><td align="right"></td><td><a href="hw9.html" class="tocviewlink" data-pltdoc="x">Homework 9</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">The Design Recipe</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._datadesign%29" class="tocviewlink" data-pltdoc="x">Data Design Recipe</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._fndesignrecipe%29" class="tocviewlink" data-pltdoc="x">Function Design Recipe</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._iterationrecipe%29" class="tocviewlink" data-pltdoc="x">Iteration Recipe</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._abstractionrecipe%29" class="tocviewlink" data-pltdoc="x">Abstraction Recipe</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._generativerecursion%29" class="tocviewlink" data-pltdoc="x">Generative Recursion</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._datadesign%29" class="tocsubseclink" data-pltdoc="x">Data Design Recipe</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._datadefinitions%29" class="tocsubseclink" data-pltdoc="x">Data Definitions</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._datadefvariations%29" class="tocsubseclink" data-pltdoc="x">Kinds of Data Definitions</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._fndesignrecipe%29" class="tocsubseclink" data-pltdoc="x">Function Design Recipe</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._accumulators%29" class="tocsubseclink" data-pltdoc="x">Accumulators</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._multiargtemplate%29" class="tocsubseclink" data-pltdoc="x">Multi-<wbr></wbr>argument Templates</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._iterationrecipe%29" class="tocsubseclink" data-pltdoc="x">Iteration Recipe</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._abstractionrecipe%29" class="tocsubseclink" data-pltdoc="x">Abstraction Recipe</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._generativerecursion%29" class="tocsubseclink" data-pltdoc="x">Generative Recursion</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="racketbasics.html" title="backward to &quot;Racket Basics and Style&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: Higher Level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="hw0.html" title="forward to &quot;Homework 0&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div><h3 class="heading"><a name="(part._designrecipe)"></a>The Design Recipe<span class="button-group"><a href="#(part._designrecipe)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="emph">Last updated: </span>Tue, 11 Mar 2025 09:33:06 -0400</p></blockquote></blockquote></blockquote><p>A central concept in this course is a <a name="(tech._design._recipe)"></a><span style="font-style: italic">Design Recipe</span>.</p><p>A <a href="#%28tech._design._recipe%29" class="techoutside" data-pltdoc="x"><span class="techinside">Design Recipe</span></a> is a systematic way to write readable and
correct high-level code (no matter what programming language you&rsquo;re
using).</p><p>The <a href="info.html#%28part._textbook%29" data-pltdoc="x">Textbook</a> describe some steps of the recipes, but
<span style="font-weight: bold">this page summarizes the official recipe</span>(s) we use in this course.</p><p>There are two main recipes: one for Data Design and one for Function Design.</p><h4 class="heading">1<tt>&nbsp;</tt><a name="(part._datadesign)"></a>Data Design Recipe<span class="button-group"><a href="#(part._datadesign)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>The <span class="emph">first step</span> of any programming task is to determine what
kind of data the program operates on.</p><p>Examples of data are numbers, strings, or some combination of values
like coordinates.</p><p>Since a program&rsquo;s purpose is to accomplish a real-world task,
this data must be a represention, i.e., a <a name="(tech._data._representation)"></a><span style="font-style: italic">data representation</span>,
of some real-world concept.</p><p>More specifically, a data representation consists of one or more <a href="#%28tech._data._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">data
definitions</span></a>.</p><h5 class="heading">1.1<tt>&nbsp;</tt><a name="(part._datadefinitions)"></a>Data Definitions<span class="button-group"><a href="#(part._datadefinitions)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><p>A <a name="(tech._data._definition)"></a><span style="font-style: italic">data definition</span> consists of the following parts:</p><p><div class="SIntrapara"><ol><li><p>a <span class="emph">name</span>,</p></li><li><p>a <span class="emph">description</span> of the set of all possible values of this data,</p></li><li><p>an <a name="(tech._interpretation)"></a><span style="font-style: italic">interpretation</span> that explains what real-world
    concepts are represented by this data definition,</p></li><li><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>A <a name="(tech._predicate)"></a><span style="font-style: italic">predicate</span> is a function that returns a Boolean value.</p></blockquote></blockquote></blockquote><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>See below for various refinements to predicate requirements for different kinds of data definitions, e.g., enumerations and itemizations from <a href="lectures/lecture05.pdf">lecture 5</a>.</p></blockquote></blockquote></blockquote><p>a single-argument <a href="#%28tech._predicate%29" class="techoutside" data-pltdoc="x"><span class="techinside">predicate</span></a> function that returns true for (some) members of this data definition (if needed, define additional predicates for each enumeration or itemization).</p><p>A predicate enables some "error checking" of the data definition, often with <span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span>.</p><p>We won&rsquo;t always want a predicate to completely check every value in a data definition, e.g., for performance reasons, but it should never reject a valid value of the data definition (i.e., no false negatives).</p></li><li><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Templates introduced in <a href="lectures/lecture05.pdf">lecture 5</a>.</p></blockquote></blockquote></blockquote><p>For some kinds of data, a <a name="(tech._template)"></a><span style="font-style: italic">template</span> sketches what the code for a function that processes this kind of data looks like.</p><p>In this course, we use a four-dot ellipsis (<span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span>) as template placeholders, to be filled in later, for unknown parts of the function.</p><p>The template will use the <a href="#%28tech._predicate%29" class="techoutside" data-pltdoc="x"><span class="techinside">predicates</span></a> defined in the previous step (with <span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span> or <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>).</p></li><li><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Compound data introduced in <a href="lectures/lecture06.pdf">lecture 6</a>.</p></blockquote></blockquote></blockquote><p>Some kinds of data definitions, e.g., compound data, require additional definitions&#8212;<wbr></wbr>like a <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span> declaration or a constructor function&#8212;<wbr></wbr>that enable defining instances of the data.</p></li></ol></div><div class="SIntrapara">See <a href="#%28part._datadefvariations%29" data-pltdoc="x">Kinds of Data Definitions</a> for more details.</div></p><h5 class="heading">1.2<tt>&nbsp;</tt><a name="(part._datadefvariations)"></a>Kinds of Data Definitions<span class="button-group"><a href="#(part._datadefvariations)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><ul><li><p><span class="emph">basic</span> data values, e.g., integers, strings.</p><p>Occasionally, we can directly use "built-in" data definitions, e.g., <span class="stt">Number</span> or <span class="stt">String</span>.</p><p>The "built-in" data definitions are the ones with built-in <a href="#%28tech._predicate%29" class="techoutside" data-pltdoc="x"><span class="techinside">predicates</span></a>, e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span> or <span class="RktSym"><a href="https://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span>.</p><p>The function <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">template</span></a> for built-in data is straightforward. It consists of just a function header and a (partial) contract to validate the input.</p><p>Example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">int-fn : Integer -&gt; ....</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">int-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr></table></blockquote><p>Functions that process basic data typically compute with straightforward arithmetic. Thus the template, uses a <span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span> as a placeholder, to be filled in later.</p><p>An important piece of information that is missing from built-in templates, however, is the <a href="#%28tech._interpretation%29" class="techoutside" data-pltdoc="x"><span class="techinside">interpretation</span></a>.</p><p>Thus, it is often better to define new data definition, even for data that are basic values.</p><p>Examples:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A TempC is an Integer</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interp: Represents a temperature in degrees Celsius.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tempc?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">tempc-fn : TempC -&gt; ....</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tempc-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">tempc?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A TempF is a Real</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interp: Represents a temperature in degrees Fahrenheit.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tempf?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._real~3f%29%29" class="RktValLink" data-pltdoc="x">real?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">tempf-fn : Tempf -&gt; ....</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tempf-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">tempf?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A TempK is a non-negative Integer</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interp: Represents a temperature in degrees Kelvin.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tempk?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">tempk-fn : Tempk -&gt; ....</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">tempk-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">tempk?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr></table></blockquote></li><li><p><a name="(tech._interval)"></a><span style="font-style: italic">intervals</span>: data from a range of values, e.g., <span class="stt">[0,100]</span></p></li><li><p><a name="(tech._enumeration)"></a><span style="font-style: italic">enumeration</span>: data that is one of a list of possible values.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Enumerations introduced in <a href="lectures/lecture05.pdf">lecture 5</a>.</p></blockquote></blockquote></blockquote><p>Example:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A TrafficLight is one of:</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">RED-LIGHT</span><span class="hspace">&nbsp;</span><span class="RktVal">"RED"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">GREEN-LIGHT</span><span class="hspace">&nbsp;</span><span class="RktVal">"GREEN"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">YELLOW-LIGHT</span><span class="hspace">&nbsp;</span><span class="RktVal">"YELLOW"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interpretation: Represents possible colors of a traffic light</span></td></tr></table></blockquote></div><div class="SIntrapara"><a href="#%28tech._predicate%29" class="techoutside" data-pltdoc="x"><span class="techinside">Predicates</span></a> for this kind of data should define smaller predicates for each of the values, when needed.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">red-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3d~3f%29%29" class="RktValLink" data-pltdoc="x">string=?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">RED-LIGHT</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">green-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3d~3f%29%29" class="RktValLink" data-pltdoc="x">string=?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">GREEN-LIGHT</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">yellow-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3d~3f%29%29" class="RktValLink" data-pltdoc="x">string=?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">YELLOW-LIGHT</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">traffic-light? : Any -&gt; Boolean</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Returns TRUE if x is a TrafficLight</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">traffic-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxLink" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">red-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">green-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">yellow-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">A <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">template</span></a> for this kind of data should have a <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>, with one clause for each of the enumerates.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">TEMPLATE for a function that processes TrafficLight data</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">trafficlight-fn: TrafficLight -&gt; ???</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">trafficlight-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">light</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">red-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">light</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">green-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">light</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">yellow-light?</span><span class="hspace">&nbsp;</span><span class="RktSym">light</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></li><li><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Itemizations introduced in <a href="lectures/lecture05.pdf">lecture 5</a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"><a name="(tech._itemization)"></a><span style="font-style: italic">itemization</span> (this data definition generalizes <a href="#%28tech._enumeration%29" class="techoutside" data-pltdoc="x"><span class="techinside">enumerations</span></a>): data whose values are from a list of possible other data definitions, e.g., either a string or number.
The <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">template</span></a> for this kind of data should also use a <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>, with one clause for each of the items.</div></p></li><li><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Compound Data introduced in <a href="lectures/lecture06.pdf">lecture 6</a>.</p></blockquote></blockquote></blockquote><p><a name="(tech._compound._data)"></a><span style="font-style: italic">compound data</span>: data that combines multiple values from other data definitions, e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span>s</p><p>Example:</p><p><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A Posn is a:</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">mk-Posn</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym">Integer</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym">Integer</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Represents a big-bang animation coordinate where:</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">x is a circle x center</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">y is a circle y center</span></td></tr></table></blockquote></div><div class="SIntrapara">Compound data often requires additional definitions that enable defining values of the data:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Posn</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mk-Posn</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Posn?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Posn</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Here the <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span> definition allows defining
<span class="stt">Posn</span> values and <span class="stt">mk-Posn</span> is a checked version of the
implicitly defined <span class="stt">Posn</span> constructor created by <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span>.</p><p>Note that compound data <a href="#%28tech._predicate%29" class="techoutside" data-pltdoc="x"><span class="techinside">predicates</span></a> should only do a <span class="emph">shallow</span> check,
e.g., the Ball example&rsquo;s predicate would be <span class="stt">Posn?</span>. The checking of field types are deferred to the <span class="stt">mk-Posn</span> constructor.</p><p>For <a href="#%28tech._compound._data%29" class="techoutside" data-pltdoc="x"><span class="techinside">compound data</span></a>, the <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">Template</span></a>
                should extract the pieces of the compound data, which will later be combined with arithmetic.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">TEMPLATE for Posn-fn: Posn -&gt; ???</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Posn-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Posn-x</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Posn-y</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">)</span></td></tr></table></blockquote></li><li><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Recursive Data introduced in <a href="lectures/lecture08.pdf">lecture 8</a>.</p></blockquote></blockquote></blockquote><p><a name="(tech._recursive._data)"></a><span style="font-style: italic">recursive data</span>: a data definition that references itself.</p><p>This kind of data is typically an <a href="#%28tech._itemization%29" class="techoutside" data-pltdoc="x"><span class="techinside">itemization</span></a> with at least a <a name="(tech._base._case)"></a><span style="font-style: italic">base case</span> and a <a name="(tech._recursive._case)"></a><span style="font-style: italic">recursive case</span>, where the second is a <a href="#%28tech._compound._data%29" class="techoutside" data-pltdoc="x"><span class="techinside">compound data</span></a>, e.g., a list.</p><p>Example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A ListofInt is one of:</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- empty</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- (cons Int ListofInt)</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interp: a list of CS class numbers</span></td></tr></table></blockquote><p>For <a href="#%28tech._recursive._data%29" class="techoutside" data-pltdoc="x"><span class="techinside">recursive data</span></a>, the <a href="#%28tech._predicate%29" class="techoutside" data-pltdoc="x"><span class="techinside">predicate</span></a> should again be a shallow check, e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span>.</p><p>The <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">Template</span></a> should include a recursive function call (in addition the <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">template</span></a> pieces for other kinds of data definitions, e.g. <a href="#%28tech._itemization%29" class="techoutside" data-pltdoc="x"><span class="techinside">itemization</span></a> and <a href="#%28tech._compound._data%29" class="techoutside" data-pltdoc="x"><span class="techinside">compound data</span></a>).</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">TEMPLATE for list-fn : ListOfInt -&gt; ???</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">empty?</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">cons?</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list-fn</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></li><li><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Data Definitions with invariants introduced in <a href="lectures/lecture14.pdf">lecture 14</a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">Data definitions may specify additional <a name="(tech._invariant)"></a><span style="font-style: italic">invariants</span>.</div></p><p>Example: Binary Search Tree</p></li><li><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Intertwined data introduced in <a href="lectures/lecture16.pdf">lecture 16</a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"><a name="(tech._intertwined._data)"></a><span style="font-style: italic">intertwined data</span>: a set of data definitions that reference each other. Their templates should also reference each other&rsquo;s template (when needed).</div></p><p>Example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">An Sexpr is one of:</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- Atom</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- ProgTree</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interp: Represents syntax of Racket programs</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">order of clauses may be re-arranged to put easier tests first</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ptree-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">atom-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">An Atom is one of:</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- Number</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- String</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- Symbol</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interp: Represents Racket programs that are basic values</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">atom-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A ProgTree is one of:</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- empty</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- (cons Sexpr ProgTree)</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Interp: Represents non-atomic Racket programs</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ptree-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">empty?</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr-fn</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ptree-fn</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._........%29%29" class="RktStxLink" data-pltdoc="x">....</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></li></ul><h4 class="heading">2<tt>&nbsp;</tt><a name="(part._fndesignrecipe)"></a>Function Design Recipe<span class="button-group"><a href="#(part._fndesignrecipe)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>The recipe for designing a function requires the following steps.</p><ol><li><p><span class="emph">Name</span> of the function</p></li><li><p><a name="(tech._signature)"></a><span style="font-style: italic">Signature</span></p><p>The Signature specifies the number of arguments and the types of the inputs and outputs.</p><p>It should use the <a href="#%28part._datadefinitions%29" data-pltdoc="x">Data Definitions</a> defined using the <a href="#%28part._datadesign%29" data-pltdoc="x">Data Design Recipe</a>.
New <a href="#%28part._datadefinitions%29" data-pltdoc="x">Data Definitions</a> should be defined at this point, if needed.</p></li><li><p><a name="(tech._function._description)"></a><span style="font-style: italic">Function Description</span> or <a name="(tech._purpose._statement)"></a><span style="font-style: italic">Purpose Statement</span></p><p>This briefly describes, in English prose, what the "purpose" of the function.</p><p>More specificly, it should explain <span class="emph">what</span> the function computes, and how it uses the input arguments to do so, but <span class="emph">not the details of how</span> it computes it.</p></li><li><p><a name="(tech._example)"></a><span style="font-style: italic">Examples</span></p><p>Similar to the <a href="https://en.wikipedia.org/wiki/Test-driven_development">Test-Driven Development</a> (TDD) philosophy, these must be written before any code. (Note, however, that we have a separate <a href="#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> step after the <a href="#%28tech._code%29" class="techoutside" data-pltdoc="x"><span class="techinside">Code</span></a> step.)</p><p>One way to think about the difference between <a href="#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> and <a href="#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> is:</p><ul><li><p><a href="#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> help explain what a function does. They are what you would want to see in documentation and tend to be simpler.</p></li><li><p><a href="#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> help verify that a function is correct. They may be more complicated and, as a result, less human-readable.</p></li></ul><p>The number of <a href="#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> needed depends on how complicated a function is. For simple functions, one example may suffice. Larger functions may require more.</p><p>In this course, <a href="#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> should be expressed as <a href="https://docs.racket-lang.org/rackunit/api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">rackunit</span></a> test cases, e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span> so they may later be used to test the code.</p></li><li><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Template step added in <a href="lectures/lecture05.pdf">lecture 5</a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">Choose <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">Template</span></a></div></p><p>Specifically, choose one argument from the <a href="#%28tech._signature%29" class="techoutside" data-pltdoc="x"><span class="techinside">signature</span></a> that this function will "process". The code for this function must use the <a href="#%28tech._template%29" class="techoutside" data-pltdoc="x"><span class="techinside">template</span></a> for that kind of data. If there are multiple arguments, then choose one only.</p></li><li><p><a name="(tech._code)"></a><span style="font-style: italic">Code</span></p><p>If all previous steps have been followed, then this step should be straightforward (if you find yourself struggling at this step, it often means you did not properly do the previous <a href="" data-pltdoc="x">The Design Recipe</a> steps).</p><p>Specifically, this step involves filling in the template with
(a combination of nested)
<span style="font-weight: bold">arithmetic</span> expressions (it should not contain any statements.)</p></li><li><p><a name="(tech._test)"></a><span style="font-style: italic">Tests</span></p><p><a href="#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> are written after the <a href="#%28tech._code%29" class="techoutside" data-pltdoc="x"><span class="techinside">Code</span></a> step and are in addition to the <a href="#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a>.</p><p>While we have already written the <a href="#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> as test cases, this step should add additional cases that are more complicated.</p><p>They should follow basic <a href="https://en.wikipedia.org/wiki/Software_testing">software testing</a> principles, e.g.,</p><ul><li><p>maximum <a href="https://en.wikipedia.org/wiki/Code_coverage">code coverage</a>, and</p></li><li><p>sufficient testing of all the possible input values.
One important aspect of this second point is coming up with <a href="https://en.wikipedia.org/wiki/Corner_case">corner cases</a>.</p></li></ul><p>The number of <a href="#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> needed depends on how complicated a function is. For simple functions, two tests may suffice. More complicated functions may require more. For example, if the input is an <a href="#%28tech._itemization%29" class="techoutside" data-pltdoc="x"><span class="techinside">itemization</span></a>, then there should be at minimum one test for each of the itemizations.</p><p>In this class, put <a href="#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> in a separate file.</p></li><li><p><a name="(tech._refactor)"></a><span style="font-style: italic">Refactor</span></p><p>Even after completing all the recipe steps, it&rsquo;s rare
for a program to be complete. At this point it&rsquo;s common to refactor a program, if needed.</p><p>We will talk about various possible refactorings this semester. One possibility is <a href="#%28tech._abstraction%29" class="techoutside" data-pltdoc="x"><span class="techinside">abstraction</span></a>.</p></li></ol><p><div class="SIntrapara"><span style="font-weight: bold">Examples</span> of function definitions that follow the <a href="" data-pltdoc="x">The Design Recipe</a>:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">c2f: TempC -&gt; TempF</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Converts the given Celsius temperature to an equivalent Fahrenheit one.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c2f</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c2f</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">212</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c2f</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-4</span>0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-4</span>0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c2f</span><span class="hspace">&nbsp;</span><span class="RktSym">ctemp</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">tempc?</span><span class="hspace">&nbsp;</span><span class="RktSym">tempf?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ctemp</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2F%29%29" class="RktValLink" data-pltdoc="x">/</a></span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">in a separate Tests file</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c2f</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">33.8</span><span class="RktPn">)</span></td></tr></table></blockquote><h5 class="heading">2.1<tt>&nbsp;</tt><a name="(part._accumulators)"></a>Accumulators<span class="button-group"><a href="#(part._accumulators)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Accumulators introduced in
<a href="lectures/lecture11.pdf">lecture 11</a>.</p></blockquote></blockquote></blockquote><p>Often, a function can process one argument, independently of previous
function calls.</p><p>For example, we can use <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span> to add one to every element of a list of numbers.</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValLink" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">=&gt; (list 2 3 4)</span></p></blockquote><p>Sometimes, however, a function needs to remember additional
information from other parts of the program, e.g., previous calls to
the function.</p><p>In these cases, we need an <a name="(tech._accumulator)"></a><span style="font-style: italic">accumulator</span>.</p><p>Functions that use an accumulator must follow the <span style="font-weight: bold">accumulator template</span>.</p><p>In particular, an accumulator must be specified with the following information</p><ul><li><p><span class="emph">name</span></p></li><li><p><span class="emph">signature</span>: specifies what kind of data
           the accumulator value is</p></li><li><p><span class="emph">invariant</span>: explains what the
accumulator represents, in terms of a statement that must always be true</p></li></ul><p><span style="font-weight: bold">Summary of Accumulator Template</span></p><ul><li><p>Specify the accumulator (see above)</p></li><li><p>In the original function, define an internal "helper" function that has the extra accumulator argument.</p><p>If the signature is the same as the original function, then it does not need to be re-written.</p><p>If the signature differs from the original function, then the new one should be specified.  </p></li><li><p>In the original function, call the "helper" function with an initial accumulator value.</p></li></ul><p><span style="font-weight: bold">Example</span></p><p>An example where an <a href="#%28tech._accumulator%29" class="techoutside" data-pltdoc="x"><span class="techinside">accumulator</span></a> is needed is a max function
that computes the maximum value in a list of numbers.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">lst-max : NonEmptyList&lt;Int&gt; -&gt; Int</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Returns the largest value in a given non-empty list of ints</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lst-max</span><span class="hspace">&nbsp;</span><span class="RktSym">lst0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">lst-max/a : List&lt;Int&gt; Int -&gt; Int</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">max-so-far : Int</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">invariant: is the largest number in the list elements seen so far</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">            = (drop-right lst0 (length rst-lst))</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lst-max/a</span><span class="hspace">&nbsp;</span><span class="RktSym">rst-lst</span><span class="hspace">&nbsp;</span><span class="RktSym">max-so-far</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">empty?</span><span class="hspace">&nbsp;</span><span class="RktSym">rst-lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">max-so-far</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lst-max/a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktSym">rst-lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">rst-lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">max-so-far</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">rst-lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">max-so-far</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lst-max/a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktSym">lst0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">first</span><span class="hspace">&nbsp;</span><span class="RktSym">lst0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><h5 class="heading">2.2<tt>&nbsp;</tt><a name="(part._multiargtemplate)"></a>Multi-argument Templates<span class="button-group"><a href="#(part._multiargtemplate)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Multi-argument templates introduced in
<a href="lectures/lecture18.pdf">lecture 10</a>.</p></blockquote></blockquote></blockquote><p>When a function has multiple argument, the design recipe usually calls
for selecting one of the argument&rsquo;s data definitions to use as the
code template.</p><p>Sometimes, however, multiple arguments must be processed
simultaneously. In these situations, the template for two data
definitions must be combined.</p><p><span style="font-weight: bold">Example</span></p><p>Here is a function (from our "CS450 Lang") that performs "addition"
on either numbers or strings, in the same manner as JavaScript.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A Result is one of:</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- Number</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">- String</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">result?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxLink" data-pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">450+: Result -&gt; Result</span></td></tr><tr><td><span class="RktCmt">;;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Adds numbers or appends strings, following JS semantics.</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">450+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">450+</span><span class="hspace">&nbsp;</span><span class="RktVal">"1"</span><span class="hspace">&nbsp;</span><span class="RktVal">"2"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"12"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">450+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"2"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"12"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">450+</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">result?</span><span class="hspace">&nbsp;</span><span class="RktSym">result?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">res-&gt;str</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">res-&gt;str</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">other cases combined</span></td></tr></table></blockquote><h4 class="heading">3<tt>&nbsp;</tt><a name="(part._iterationrecipe)"></a>Iteration Recipe<span class="button-group"><a href="#(part._iterationrecipe)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>The <a href="#%28part._datadesign%29" data-pltdoc="x">Data Design Recipe</a> and <a href="#%28part._fndesignrecipe%29" data-pltdoc="x">Function Design Recipe</a> are not meant to
be carried out only once. Instead, like all software development, the
steps should be part of an iterative loop.</p><p>For example, while coming up with the <a href="#%28tech._signature%29" class="techoutside" data-pltdoc="x"><span class="techinside">signature</span></a> of a function,
you may realize that a new <a href="#%28tech._data._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">data definition</span></a> is needed.</p><p>Or, writing a <a href="#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">test</span></a> may reveal a bug in a function&rsquo;s <a href="#%28tech._code%29" class="techoutside" data-pltdoc="x"><span class="techinside">code</span></a>.</p><p>Thus, the recipe steps should be repeated as many times as needed in
order to create a correct and readable program.</p><h4 class="heading">4<tt>&nbsp;</tt><a name="(part._abstractionrecipe)"></a>Abstraction Recipe<span class="button-group"><a href="#(part._abstractionrecipe)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Abstraction introduced in
<a href="lectures/lecture09.pdf">lecture 9</a> and
<a href="lectures/lecture10.pdf">lecture 10</a>.</p></blockquote></blockquote></blockquote><p><a name="(tech._abstraction)"></a><span style="font-style: italic">Abstraction</span> is the process of creating a definition, e.g., a
<a href="#%28tech._data._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">data definition</span></a> or function, that contains a repeated pattern,
with the goal of making the program easier to read and maintain by
eliminating duplication.</p><ol><li><p><div class="SIntrapara"><span class="emph">Find</span> similar patterns in a program.
     </div><div class="SIntrapara"><ul><li><p>minimum: 2</p></li><li><p>ideally: 3+</p></li></ul></div></p></li><li><p><span class="emph">Identify</span> differences. These will be <span style="font-weight: bold">parameters</span> of the abstraction.</p></li><li><p><span class="emph">Create</span> a reusable abstraction with the discovered parameters.</p><p><div class="SIntrapara">Types of abstraction:
     </div><div class="SIntrapara"><ul><li><p>function abstraction</p></li><li><p>data abstraction, e.g., <span class="stt">Listof&lt;X&gt;</span>, where <span class="stt">X</span> is the parameter</p></li></ul></div></p><p><span style="font-weight: bold">Warning</span>: The abstraction must have a short, clear name and "be logical".
     Not all "repeated" code warrants creating an
     abstraction. In fact, creating a bad abstraction could be much more
     detrimental than simply leaving the duplicate code alone, so this step
     should be done with some caution.</p></li><li><p><span class="emph">Use</span> the abstraction by giving concrete arguments for the parameters.</p></li></ol><h4 class="heading">5<tt>&nbsp;</tt><a name="(part._generativerecursion)"></a>Generative Recursion<span class="button-group"><a href="#(part._generativerecursion)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Generative Recursion introduced in
<a href="lectures/lecture12.pdf">lecture 12</a>.</p></blockquote></blockquote></blockquote><p><div class="SIntrapara">Functions that use <a name="(tech._generative._recursion)"></a><span style="font-style: italic">generative recursion</span> are recursive, but don&rsquo;t exactly follow the template of a recursive data definition. These functions should follow the <a href="" data-pltdoc="x">The Design Recipe</a>, with the following additions:
</div><div class="SIntrapara"><ol><li><p>Name</p></li><li><p>Signature</p></li><li><p>Description</p><p>This step must specify a <a name="(tech._termination._argument)"></a><span style="font-style: italic">termination argument</span>, which explains why the function will not go into an infinite loop. More specifically, it explains how every recursive call is "smaller", so that the base case will be reached eventually.</p></li><li><p>Examples</p></li><li><p>Code</p><p><div class="SIntrapara">Generative recursive functions won&rsquo;t be able to follow the normal (structural) template, but they can use a "general" template that has the following components:
</div><div class="SIntrapara"><ol><li><p><span class="emph">Divide</span> problems into smaller problems and recursively solve them!</p></li><li><p><span class="emph">Combine</span> solutions to smaller problems into one solution</p></li><li><p><span class="emph">Base case</span> is the "trivially solvable" (i.e., smallest) problem</p></li></ol></div></p></li><li><p>Test</p></li></ol></div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="racketbasics.html" title="backward to &quot;Racket Basics and Style&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: Higher Level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="hw0.html" title="forward to &quot;Homework 0&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>