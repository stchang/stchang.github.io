<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Homework 5</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript">
(function() {
  document.write('<link rel="stylesheet" href="katex/katex.min.css" />');
})();(function() {document.write('<scr' + 'ipt type="text/javascript" src="katex/katex.min.js"></scr' + 'ipt>');})();(function(f) {
  // A "simple" onLoad function
  if (window.document.readyState == "complete") {
    f();
  } else if (window.document.addEventListener) {
    window.document.addEventListener("DOMContentLoaded", f, false);
  } else if (window.attachEvent) {
    window.attachEvent("onreadystatechange", function() {
      if (window.document.readyState == "complete") {
        f();
      }
    });
  } else {
    var oldLoad = window.onload;
    if (typeof(oldLoad) == "function") {
      window.onload = function() {
        try {
          oldLoad();
        } finally {
          f();
        }
      };
    } else {
      window.onload = f;
    }
  }
})(function() {
  // This is an ugly way to change the doctype, in case the scribble document
  // did not use (with-html5).
  if (!(document.doctype && document.doctype.publicId == '')) {
    if (console && console.log) {
      console.log("Re-wrote the document to use the HTML5 doctype.\n"
                  + "  Consider using the following declaration:\n"
                  + "      @title[#:style (with-html5 manual-doc-style)]{â€¦}");
    }
    var wholeDoc = '<!doctype HTML>\n' + document.documentElement.outerHTML;
    document.open();
    document.clear();
    document.write(wholeDoc);
  }
  var inlineElements = document.getElementsByClassName("texMathInline");
  for (var i = 0; i < inlineElements.length; i++) {
    var e = inlineElements[i];
    katex.render(e.textContent, e, { displayMode:false, throwOnError:false });
  }
  var displayElements = document.getElementsByClassName("texMathDisplay");
  for (var i = 0; i < displayElements.length; i++) {
    var e = displayElements[i];
    katex.render(e.textContent, e, { displayMode:true, throwOnError:false });
  }
});
</script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CS450:<span class="mywbr"> &nbsp;</span> Higher Level Languages</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="info.html" class="tocviewlink" data-pltdoc="x">Course Info</a></td></tr><tr><td align="right"></td><td><a href="logistics.html" class="tocviewlink" data-pltdoc="x">Logistics</a></td></tr><tr><td align="right"></td><td><a href="policies.html" class="tocviewlink" data-pltdoc="x">Course Policies</a></td></tr><tr><td align="right"></td><td><a href="racketbasics.html" class="tocviewlink" data-pltdoc="x">Racket Basics and Style</a></td></tr><tr><td align="right"></td><td><a href="designrecipe.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td align="right"></td><td><a href="hw0.html" class="tocviewlink" data-pltdoc="x">Homework 0</a></td></tr><tr><td align="right"></td><td><a href="hw1.html" class="tocviewlink" data-pltdoc="x">Homework 1</a></td></tr><tr><td align="right"></td><td><a href="hw2.html" class="tocviewlink" data-pltdoc="x">Homework 2</a></td></tr><tr><td align="right"></td><td><a href="hw3.html" class="tocviewlink" data-pltdoc="x">Homework 3</a></td></tr><tr><td align="right"></td><td><a href="hw4.html" class="tocviewlink" data-pltdoc="x">Homework 4</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Homework 5</a></td></tr><tr><td align="right"></td><td><a href="hw6.html" class="tocviewlink" data-pltdoc="x">Homework 6</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Homework 5</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._hw5overview%29" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw5setup%29" class="tocviewlink" data-pltdoc="x">Setup</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw5tasks%29" class="tocviewlink" data-pltdoc="x">Tasks</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw5presubmit%29" class="tocviewlink" data-pltdoc="x">Before Submitting</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw5submit%29" class="tocviewlink" data-pltdoc="x">Submitting</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw5overview%29" class="tocsubseclink" data-pltdoc="x">Overview</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw5setup%29" class="tocsubseclink" data-pltdoc="x">Setup</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw5tasks%29" class="tocsubseclink" data-pltdoc="x">Tasks</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw5presubmit%29" class="tocsubseclink" data-pltdoc="x">Before Submitting</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw5submit%29" class="tocsubseclink" data-pltdoc="x">Submitting</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hw4.html" title="backward to &quot;Homework 4&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: Higher Level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="hw6.html" title="forward to &quot;Homework 6&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div><h3 class="heading"><a name="(part._hw5)"></a>Homework 5<span class="button-group"><a href="#(part._hw5)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="emph">Last updated: </span>Mon, 10 Mar 2025 14:48:20 -0400</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Out</span>: Tue Mar 04 2025, 11am EST</p><p><span style="font-weight: bold">Due</span>: Tue Mar 11 2025, 11am EST</p><h4 class="heading"><a name="(part._hw5overview)"></a>Overview<span class="button-group"><a href="#(part._hw5overview)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>In this assignment, you will practice using the <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a>
to write programs that compute with recursive data, e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span>s!</p><p>This hw will be graded accordingly:</p><p><div class="SIntrapara"><ul><li><p>correctness (autograder) (8 pts)</p></li><li><p>design recipe (15 pts)</p></li><li><p>testing (15 pts)</p></li><li><p>style (8 pts)</p></li><li><p>README (2 pt)</p></li></ul></div><div class="SIntrapara"><span style="font-weight: bold">Total</span>: 48 points</div></p><h4 class="heading"><a name="(part._hw5setup)"></a>Setup<span class="button-group"><a href="#(part._hw5setup)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="SubFlow"><p><span style="font-weight: bold">Create a new repository for this assignment</span> by going to the
<a href="https://github.com/cs450s25">CS450 Spring 2025 GitHub Organization</a> and clicking "New".</p><p><img src="new-repo-button.png" alt="" width="331" height="108"/></p><p><span style="font-weight: bold">Note</span>: The <a href="https://github.com/cs450s25">CS450 Spring 2025 GitHub Organization</a> must be the owner of the
repository. Do not create the repository in your own account.</p><p><div class="SIntrapara">On the "Create a new repository" screen:
</div><div class="SIntrapara"><ul><li><p>Name the repository <span class="stt">hw&lt;X&gt;-&lt;LASTNAME&gt;-&lt;FIRSTNAME&gt;</span> where
     <span class="stt">&lt;X&gt;</span> is the current homework number.</p><p>For example, I would name my hw5
     repository <span class="stt">hw5-Chang-Stephen</span>.</p></li><li><p>Mark the repository as <span style="font-weight: bold">Private</span>.</p></li><li><p>Check "Add a README file".</p></li><li><p>Select the Racket template for the <span style="font-weight: bold">.gitignore</span>.</p></li><li><p>Choose whatever you wish for the <span style="font-weight: bold">license</span>.</p></li></ul></div></p><p>When done click "Create repository".</p></blockquote><h4 class="heading"><a name="(part._hw5tasks)"></a>Tasks<span class="button-group"><a href="#(part._hw5tasks)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>In this assignment we will implement a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> program similar to
previous ones, except now there will be multiple blocks.</p><p>(Note that no solution to previous hws are needed to complete this
assignment. In fact, since this assignment requires new data
definitions, it is recommended that all students start from scratch,
even those who completed previous ones. Trying to "adapt" a previous
solution will likely be the more error-prone path, so do so at your
own risk.)</p><p>Here is an <a href="hw5demo.html">online demo that approximates
the behavior of the program</a> <span class="strike" style="text-decoration:line-through">(maybe coming soon!)</span></p><p><span class="Larger"><span style="font-weight: bold">Reading</span></span></p><ul><li><p>Read Chapters 8-10 of the <a href="info.html#%28part._textbook%29" data-pltdoc="x">Textbook</a> (where reading means working through the examples and exercises interactively).</p></li><li><p>Review the <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a> section of the course website for new elements of the design recipe that we have learned.</p></li></ul><p><span class="Larger"><span style="font-weight: bold">Pre-programming Notes</span></span></p><ul><li><p><div class="SIntrapara">All code must be written following the <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a>.
                (Just submitting code is not sufficient.)
          In additional to the required receipe steps, some language features may only
be used in the certain scenarios, as called for by <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a>.
          </div><div class="SIntrapara"><ul><li><p>For example, <span class="RktSym"><a href="https://docs.racket-lang.org/reference/set_.html#%28form._%28%28quote._~23~25kernel%29._set%21%29%29" class="RktStxLink" data-pltdoc="x">set!</a></span> and other "imperative" features are not allowed ever.</p></li><li><p><span style="font-weight: bold">NEW:</span> <span class="emph">Each function is allowed one <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span> expression</span>, to "process" a piece of Boolean data, in addition to another kind of data, e.g., a <span class="stt">WorldState</span>. (Conditionals such as <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> remain restricted to <a href="designrecipe.html#%28part._datadefinitions%29" data-pltdoc="x">Data Definitions</a>.)</p></li><li><p><span style="font-weight: bold">NEW:</span> Only list constructors (e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span> and <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span>), accessors (e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._first%29%29" class="RktValLink" data-pltdoc="x">first</a></span> and <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._rest%29%29" class="RktValLink" data-pltdoc="x">rest</a></span>), and predicates (e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty~3f%29%29" class="RktValLink" data-pltdoc="x">empty?</a></span>)  are allowed in this assignment. Other list functions (e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span>, <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Flist..rkt%29._filter%29%29" class="RktValLink" data-pltdoc="x">filter</a></span>, <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Flist..rkt%29._foldl%29%29" class="RktValLink" data-pltdoc="x">foldl</a></span>, etc) are not allowed.</p></li></ul></div></p></li><li><p><a href="designrecipe.html#%28tech._signature%29" class="techoutside" data-pltdoc="x"><span class="techinside">Signature</span></a>s should use <span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span>
and the predicates defined in the <a href="designrecipe.html#%28part._datadesign%29" data-pltdoc="x">Data Design Recipe</a> step. If a
function is defined with <span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span> and it&rsquo;s clear which
data definitions its contract refers to, then comment signatures no
longer need to be submitted with code. <span style="font-weight: bold">NEW:</span> The <span class="RktSym"><a href="https://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span>
contract constructor may be useful to use with functions that process
list inputs.</p></li><li><p>For <a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> and <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>, <span style="font-weight: bold">do not use</span>
<span class="RktSym">check-expect</span> from the Beginning Student Language (even though
the textbook says to). Instead, use <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span> or other
testing forms from <a href="https://docs.racket-lang.org/rackunit/api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">rackunit</span></a>.</p></li><li><p><a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> for a function definition should be right after the
<span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>. But <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> should be put into the
<span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28form._%28%28lib._rackunit%2Fmain..rkt%29._test-suite%29%29" class="RktStxLink" data-pltdoc="x">test-suite</a></span> in <span class="stt">tests.rkt</span>. Try to think about corner cases
and code coverage. Each function should have at minimum one
<a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Example</span></a>, and "sufficient" <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>.</p></li><li><p>Tests should go in a <span class="stt">tests.rkt</span> file, as described in lecture and
the <a href="https://github.com/cs450s25/hw5-starter"><span class="stt">hw5</span> starter code</a>, and the rest of the code should go in a file
named <span class="stt">hw5.rkt</span>.</p></li><li><p>The submitted program must be <span class="emph">only</span> a series of
<span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>s (both constants and function definitions are
allowed). It should not run any code (e.g., <span style="font-weight: bold">it should not start
the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> loop automatically</span>!). Not following this
will result in GradeScope errors and/or timeouts.</p></li><li><p>You may look at lecture code to help you but DO NOT
SUBMIT ANY OF THIS CODE (even if you change the variable names,
etc). You won&rsquo;t receive any credit. Instead, you should write code for
this homework from scratch using <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a>.</p></li><li><p><span style="font-weight: bold">NEW:</span> One-line helper functions&#8212;<wbr></wbr>if the name and
description clearly describe what it does (the course staff is the
final arbiter of this)&#8212;<wbr></wbr>do not need to be submitted with
<a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> and <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>, if they are covered by other
tests. <span style="font-weight: bold">NOTE: This does not change the Design Recipe.</span> It is only
changing submission requirements. As usual, however, we will not be
able to debug code that does not follow the design
recipe, so omit these steps at your own risk.</p></li><li><p><span class="RktSym"><a href="https://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span> instances, e.g., for <span class="stt">WorldState</span> data, must be comparable with <span class="RktSym"><a href="https://docs.racket-lang.org/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span> and <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span>, which means that they should be declared with the <span class="stt">#:transparent</span> keyword.</p></li></ul><p><span class="Larger"><span style="font-weight: bold">Programming</span></span></p><ul><li><p><div class="SIntrapara">Create a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> program that uses a
<span class="texMathInline">10\cdot\texttt{UNIT}\times 20\cdot\texttt{UNIT}</span> pixel
scene, where
</div><div class="SIntrapara"><ul><li><p>a <span class="stt">UNIT</span> is
  40 pixels,</p></li><li><p>a "scene" is an image for which the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span> predicate
from <span class="stt">2htdp/image</span> evaluates to <span class="RktSym"><a href="https://docs.racket-lang.org/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span>.</p></li></ul></div></p><p><div class="SIntrapara">The <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> expression should include (see below for details):
</div><div class="SIntrapara"><ul><li><p>an <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29" class="RktStxLink" data-pltdoc="x">on-tick</a></span> clause that is given a "tick" function and a tick rate of 1 tick per second,</p></li><li><p>a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span> clause that is given a "render" function.</p></li><li><p>a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29" class="RktStxLink" data-pltdoc="x">on-key</a></span> clause that is given a "key handler" function.</p></li><li><p><span style="font-weight: bold">NEW:</span> a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29" class="RktStxLink" data-pltdoc="x">stop-when</a></span> clause that is given two functions, a "game over" predicate, and a function that draws the last scene.</p></li></ul></div></p></li><li><p>A <a href="hw1.html#%28part._hw1tasks%29" data-pltdoc="x">J-block</a> (in <a href="hw4.html#%28part._hw4tasks%29" data-pltdoc="x"><span class="stt">ROTATION1</span> state</a>) should "fall" from the top of the scene to the bottom, at a rate of <span class="stt">UNIT</span> pixels per tick.</p><p>The block should initially be completely off the screen, but the "horizontal" part should be visible after one tick.</p><p><span style="font-weight: bold">NEW:</span> The block should stop "falling" and "lock" when it touches the bottom of the scene <span class="emph">or another block</span> <span style="font-weight: bold">on a "tick"</span>.</p><p>The initial "x" coordinate of the block <span class="strike" style="text-decoration:line-through">center should be centered in the scene</span> should be such that the block leftmost side is 3 UNITs away from the leftmost edge of the scene.</p></li><li><p>Once the "active" block is "locked", a new block should spawn in the initial position (just out of the top of hte scene).</p></li><li><p><span class="strike" style="text-decoration:line-through">If a user presses the <span class="stt">"left"</span> keyboard key, the block should move left by <span class="stt">UNIT</span> pixels (if it can), and same for <span class="stt">"right"</span> and <span class="stt">"down"</span>. Once it is fully in the scene, the block should never go out of the scene (even partially) on any of the scene edges. The block should still be movable horizontally, even if it is at the bottom of the scene.</span></p></li><li><p>If a user presses the <span class="stt">"down"</span> keyboard key, the block should move down by <span class="stt">UNIT</span> pixels (if it can). Once it is fully in the scene, the block should never go out of the scene (even partially) on any of the scene edges. <span style="font-weight: bold">NOTE:</span> A block should not "lock" due to pressing the down key, or any other key press.</p></li><li><p>This assignment does <span style="font-weight: bold">not</span> need to handle <span class="stt">"left"</span> or <span class="stt">"right"</span> or <span class="stt">"up"</span> key presses. The block should <span class="emph">not</span> be able to move horizontally and should <span class="emph">not</span> be able to rotate.</p></li><li><p>The <span style="font-weight: bold">game should end</span> if blocks pile up such that the top edge of the topmost block touches the top edge of the scene. The game end condition should be detected by passing a predicate to the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29" class="RktStxLink" data-pltdoc="x">stop-when</a></span> <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> clause (see below). When the game ends, a "GAME OVER" or some other message should be displayed so the user knows that the game is over. This last scene should also be computed by a function that is given to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29" class="RktStxLink" data-pltdoc="x">stop-when</a></span>.</p></li><li><p><div class="SIntrapara">To be properly tested, your program should <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span> and <span class="RktSym"><a href="https://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._provide%29%29" class="RktStxLink" data-pltdoc="x">provide</a></span> the following:
   </div><div class="SIntrapara"><ul><li><p>a Data Definition named <span style="font-weight: bold"><span class="stt">Block</span></span> that represents a block. The design details are your choice, so long as you define and provide the functions below.</p></li><li><p>a Data Definition named <span style="font-weight: bold"><span class="stt">WorldState</span></span> that represents the world state values of your <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> program (remember that a world state should only include values that change&#8212;<wbr></wbr>constant values should be defined as constants).</p><p><span style="font-weight: bold">NEW:</span> Your <span class="stt">WorldState</span> data definition should include a list as at least one of the components.</p><p><span style="font-weight: bold">Note:</span> You won&rsquo;t be able to re-use your Data Definitions from previous assignments, so it is highly recommended that you start from scratch and think carefully about the different kinds of data the program will need. You likely will not be able to successfully complete this assignment without the design recipe. To give a hint, you may need to reason about all these different kinds of data, at different places in the program:</p><p><div class="SIntrapara"><ul><li><p>the <a href="hw4.html#%28tech._rotation._point%29" class="techoutside" data-pltdoc="x"><span class="techinside">rotation point</span></a> of the block,</p></li><li><p>the "center" of the block,</p></li><li><p>the "top edge" of the block.</p></li><li><p>the "bottom edge" of the block.</p></li></ul></div><div class="SIntrapara"><span class="emph">Do not write any code until you at least understand what these mean</span>. Ask questions (with examples) on Piazza if you do not.
 You do not want to, e.g., be writing code that expects a "center" but receives a "bottom edge". That is a sure-fire way to wind up in a marathon debugging session. Ideally, you should have well-named functions that "convert" between these different kinds of data when appropriate.
 Note that the various coordinates above may also change as the block is rotated so make sure to take that into account.</div></p></li><li><p>a <span style="font-weight: bold"><span class="stt">mk-Block</span></span> function that takes a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> x and y coordinate representing a block <a href="hw4.html#%28tech._rotation._point%29" class="techoutside" data-pltdoc="x"><span class="techinside">rotation point</span></a>, and returns a <span class="stt">Block</span> at the given coordinates in <span class="stt">ROTATION1</span> state,</p></li><li><p>a <span style="font-weight: bold"><span class="stt">Block?</span></span> predicate that returns <span class="RktSym"><a href="https://docs.racket-lang.org/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span> when given a valid <span class="stt">Block</span> data value (if <span class="stt">Block</span> is compound data, then this should be a shallow check that does not check the fields),</p></li><li><p>a function <span style="font-weight: bold"><span class="stt">Block-&gt;Image</span></span>, with signature <span class="stt">Block -&gt; Image</span> (<span class="stt">Image</span> is a built-in basic data definition from <span class="stt">2htdp/image</span> where <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span><span class="stt"> </span><span class="RktSym">i</span><span class="RktPn">)</span> evaluates to true if <span class="stt">i</span> is a valid <span class="stt">Image</span>), that is called by <span class="stt">WorldState-&gt;Image</span>,</p></li><li><p>a <span style="font-weight: bold"><span class="stt">WorldState-active</span></span> function that takes a <span class="stt">WorldState</span> and returns the "active" <span class="stt">Block</span> (the one that is still moving),</p></li><li><p>a <span style="font-weight: bold"><span class="stt">WorldState-locked</span></span> function that takes a <span class="stt">WorldState</span> and returns a list of <span class="stt">Block</span>s that are locked and no longer moving,</p></li><li><p>a <span style="font-weight: bold"><span class="stt">WorldState?</span></span> predicate that returns <span class="RktSym"><a href="https://docs.racket-lang.org/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span> when given a value that is a valid <span class="stt">WorldState</span> (if <span class="stt">WorldState</span> is compound data, then the predicate should be a "shallow" check, meaning it should not deeply check the data structure fields, etc.),</p></li><li><p>a function <span style="font-weight: bold"><span class="stt">next-WorldState</span></span>, with signature <span class="stt">WorldState -&gt; WorldState</span>, that is given to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29" class="RktStxLink" data-pltdoc="x">on-tick</a></span>,</p></li><li><p>a function <span style="font-weight: bold"><span class="stt">WorldState-&gt;Image</span></span>, with signature <span class="stt">WorldState -&gt; Image</span> (<span class="stt">Image</span> is a built-in basic data definition from <span class="stt">2htdp/image</span> where <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span><span class="stt"> </span><span class="RktSym">i</span><span class="RktPn">)</span> evaluates to true if <span class="stt">i</span> is a valid <span class="stt">Image</span>), that is given to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span>,</p></li><li><p>a function <span style="font-weight: bold"><span class="stt">Blocks-top</span></span>, with signature <span class="stt">Listof&lt;Block&gt; -&gt; Real</span>, that returns the y-coordinate of the topmost edge of the topmost block in the given list of blocks,</p></li><li><p>a function <span style="font-weight: bold"><span class="stt">handle-key</span></span>, with signature <span class="stt">WorldState KeyEvent -&gt; WorldState</span>  that is given to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-key%29%29" class="RktStxLink" data-pltdoc="x">on-key</a></span>,</p></li><li><p>a predicate <span style="font-weight: bold"><span class="stt">game-over?</span></span>, with signature <span class="stt">WorldState -&gt; Boolean</span>, that is given to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29" class="RktStxLink" data-pltdoc="x">stop-when</a></span>. This predicate should return <span class="RktSym"><a href="https://docs.racket-lang.org/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span> when the game should end, which is when blocks pile up such that the topmost edge of the topmost block touches the top of the scene.</p></li><li><p>a function <span style="font-weight: bold"><span class="stt">render-last</span></span>, with signature <span class="stt">WorldState -&gt; Image</span>, that is given as the second argument to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29" class="RktStxLink" data-pltdoc="x">stop-when</a></span>. It produces the last scene when the game is over. The function should call <span class="stt">WorldState-&gt;Image</span> but add a "GAME OVER" message to the user.</p></li><li><p>a constant <span style="font-weight: bold"><span class="stt">INIT-BLOCK</span></span> that is the initial <span class="stt">Block</span>. Remember that the block should initially be <span class="strike" style="text-decoration:line-through">centered</span> horizontally 3 UNITs away from the left edge of the scene, vertically sitting just above the top of the scene, and in <span class="stt">RotationState</span> <span class="stt">ROTATION1</span>.</p></li><li><p>a constant <span style="font-weight: bold"><span class="stt">INIT-WORLDSTATE</span></span> where <span class="RktPn">(</span><span class="RktSym">WorldState?</span><span class="stt"> </span><span class="RktSym">INIT-WORLDSTATE</span><span class="RktPn">)</span> is <span class="RktSym"><a href="https://docs.racket-lang.org/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span>, <span class="RktPn">(</span><span class="RktSym">WorldState-active</span><span class="stt"> </span><span class="RktSym">INIT-WORLDSTATE</span><span class="RktPn">)</span> is <span class="RktSym">INIT-BLOCK</span>, and <span class="RktPn">(</span><span class="RktSym">WorldState-locked</span><span class="stt"> </span><span class="RktSym">INIT-WORLDSTATE</span><span class="RktPn">)</span> is <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty%29%29" class="RktValLink" data-pltdoc="x">empty</a></span>. </p></li><li><p>a function <span style="font-weight: bold"><span class="stt">main</span></span> that takes no arguments and starts the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> interactive loop (<span class="stt">main</span> does not need <a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> or <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>)</p></li></ul></div></p></li></ul><h4 class="heading"><a name="(part._hw5presubmit)"></a>Before Submitting<span class="button-group"><a href="#(part._hw5presubmit)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="SubFlow"><p><span class="Larger"><span style="font-weight: bold">Testing</span></span> (and Autograders)</p><p><div class="SIntrapara"><span class="emph">Before</span> submitting, note:
</div><div class="SIntrapara"><ul><li><p>Do not submit until all code has been thoroughly tested (by
you), which means writing a "sufficient" number of <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Test</span></a> cases.</p></li><li><p>A GradeScope "Autograder" may or may not be
released before the due date but either way, <span style="font-weight: bold">an Autograder is
not a software development/testing tool</span>, so do not use it as
one. Code must be tested independent of any Autograder and questions
about Autograders will be ignored (e.g., posts asking "why is the Autograder giving
an error?" are not allowed)</p></li><li><p>If you do submit before the deadline and
get an Autograder error, this is bonus information that indicates
the submitted code is <span style="font-weight: bold">not complete and/or not correct</span>. But it&rsquo;s
up to you to figure out what "correct" means and how to fix to the program.</p></li><li><p>Of course, the course staff is here and
eager to help, but cannot do so without context information. The best
way to supply this information is to INCLUDE EXAMPLES WITH ALL
QUESTIONS, along with what the "expected" result should be! The posted
examples should be the minimal amount of code needed to communicate
the problem. This will receive the clearest possible answer.</p></li><li><p>The Autograder test suite is subject to
change.  This means that the visible grade seen during submission is
not the final grade.</p></li></ul></div></p></blockquote><blockquote class="SubFlow"><p><span class="Larger"><span style="font-weight: bold">Style</span></span></p><p>All code should follow proper <a href="racketbasics.html#%28part._.Style%29" data-pltdoc="x">Racket Style</a>.</p><p>Also, the repository itself must follow proper style. Specifically, it
<span style="font-weight: bold">must have appropriate commit messages</span>. See
<a href="https://cbea.ms/git-commit/">How to Write a Git Commit Message</a>
if you are unsure how to write a commit message.</p></blockquote><blockquote class="SubFlow"><p><span class="Larger"><span style="font-weight: bold">Files</span></span></p><p>A submission <span style="font-weight: bold">must have the following files</span> in the repository root:</p><ul><li><p><span style="font-weight: bold"><span class="stt">hw5.rkt</span></span>: Contains the hw solution code.</p><p>All <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>s should use the name specified in the
exercise (ask if you are unsure) and should be <span class="RktSym"><a href="https://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._provide%29%29" class="RktStxLink" data-pltdoc="x">provide</a></span>d.</p><p>The easiest (but not always the most readable) way to ensure all necessary
definitions are provided is to (initially) put as the second line in the file:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._provide%29%29" class="RktStxLink" data-pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._all-defined-out%29%29" class="RktStxLink" data-pltdoc="x">all-defined-out</a></span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>This automatically <span class="RktSym"><a href="https://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._provide%29%29" class="RktStxLink" data-pltdoc="x">provide</a></span>s all definitions in the file
(the first line should be <a href="https://docs.racket-lang.org/guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="https://docs.racket-lang.org/reference/index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket</span></a><span class="RktMeta"></span>).</p></li><li><p><span style="font-weight: bold"><span class="stt">tests.rkt</span></span>: This file should <span class="RktSym"><a href="https://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span> <span class="stt">hw5.rkt</span>
and define tests for it.</p><p>Specifically, it should define a
<a href="https://docs.racket-lang.org/rackunit/api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">rackunit</span></a> <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28form._%28%28lib._rackunit%2Fmain..rkt%29._test-suite%29%29" class="RktStxLink" data-pltdoc="x">test-suite</a></span> named <span class="stt">TESTS</span> which
contains "sufficient" <a href="https://docs.racket-lang.org/rackunit/api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">rackunit</span></a> <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Test</span></a> cases
(e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span>, etc.) for each defined function.</p></li><li><p><span style="font-weight: bold"><span class="stt">README.md</span></span>: Contains the <a href="policies.html#%28part._readme%29" data-pltdoc="x">required README information</a>,
including <span style="font-weight: bold">the GitHub repo url</span>.</p></li></ul></blockquote><h4 class="heading"><a name="(part._hw5submit)"></a>Submitting<span class="button-group"><a href="#(part._hw5submit)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="SubFlow"><p>When you are done, submit your work to <a href="https://www.gradescope.com/courses/969063/assignments/5880960">Gradescope <span class="stt">hw5</span></a>. You must use
the "GitHub" <span style="font-weight: bold">Submission Method</span> and select your
<span class="stt">hw&lt;X&gt;-&lt;LASTNAME&gt;-&lt;FIRSTNAME&gt;</span> repository.</p><p><img src="gradescope-github-submit-button.png" alt="" width="503" height="166"/></p><p>Note that this is the only acceptable way to submit homework in this
course. (Do not manually upload files and do not email files to the
course staff. Homework submitted via any unapproved methods will not be graded.)</p></blockquote><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hw4.html" title="backward to &quot;Homework 4&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: Higher Level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="hw6.html" title="forward to &quot;Homework 6&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>