<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Homework 4</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CS450:<span class="mywbr"> &nbsp;</span> High-<wbr></wbr>level Languages</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="info.html" class="tocviewlink" data-pltdoc="x">Course Info</a></td></tr><tr><td align="right"></td><td><a href="logistics.html" class="tocviewlink" data-pltdoc="x">Logistics</a></td></tr><tr><td align="right"></td><td><a href="policies.html" class="tocviewlink" data-pltdoc="x">Course Policies</a></td></tr><tr><td align="right"></td><td><a href="racketbasics.html" class="tocviewlink" data-pltdoc="x">Racket Basics and Style</a></td></tr><tr><td align="right"></td><td><a href="designrecipe.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td align="right"></td><td><a href="hw0.html" class="tocviewlink" data-pltdoc="x">Homework 0</a></td></tr><tr><td align="right"></td><td><a href="hw1.html" class="tocviewlink" data-pltdoc="x">Homework 1</a></td></tr><tr><td align="right"></td><td><a href="hw2.html" class="tocviewlink" data-pltdoc="x">Homework 2</a></td></tr><tr><td align="right"></td><td><a href="hw3.html" class="tocviewlink" data-pltdoc="x">Homework 3</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Homework 4</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Homework 4</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._hw4overview%29" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw4setup%29" class="tocviewlink" data-pltdoc="x">Setup</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw4reading%29" class="tocviewlink" data-pltdoc="x">Reading</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw4tasks%29" class="tocviewlink" data-pltdoc="x">Tasks</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw4presubmit%29" class="tocviewlink" data-pltdoc="x">Before Submitting</a></td></tr><tr><td align="right"></td><td><a href="#%28part._hw4submit%29" class="tocviewlink" data-pltdoc="x">Submitting</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw4overview%29" class="tocsubseclink" data-pltdoc="x">Overview</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw4setup%29" class="tocsubseclink" data-pltdoc="x">Setup</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw4updateracket450%29" class="tocsubseclink" data-pltdoc="x">Updating Racket450</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw4reading%29" class="tocsubseclink" data-pltdoc="x">Reading</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw4tasks%29" class="tocsubseclink" data-pltdoc="x">Tasks</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw4presubmit%29" class="tocsubseclink" data-pltdoc="x">Before Submitting</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._hw4submit%29" class="tocsubseclink" data-pltdoc="x">Submitting</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hw3.html" title="backward to &quot;Homework 3&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: High-level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h3 class="heading"><a name="(part._hw4)"></a>Homework 4<span class="button-group"><a href="#(part._hw4)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="emph">Last updated: </span>Tue, 24 Feb 2026 13:23:25 -0500</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Out</span>: Tue Feb 24 2026, 11am EST</p><p><span style="font-weight: bold">Due</span>: Tue Mar 03 2026, 11am EST</p><h4 class="heading"><a name="(part._hw4overview)"></a>Overview<span class="button-group"><a href="#(part._hw4overview)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>This assignment continues to explore <a href="designrecipe.html#%28tech._compound._data%29" class="techoutside" data-pltdoc="x"><span class="techinside">compound data</span></a>, and also
mouse event handling in the "<span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span>" library. We also get a
preview of <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span>s.</p><p>This hw will be graded accordingly:</p><p><div class="SIntrapara"><ul><li><p>correctness (Autograded) (10 pts)</p></li><li><p>design recipe (15 pts)</p></li><li><p>testing (15 pts)</p></li><li><p>style (7 pts)</p></li><li><p>README (1 pt)</p></li></ul></div><div class="SIntrapara"><span style="font-weight: bold">Total</span>: 48 points</div></p><h4 class="heading"><a name="(part._hw4setup)"></a>Setup<span class="button-group"><a href="#(part._hw4setup)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="SubFlow"><p><span style="font-weight: bold">Create a new repository for this assignment</span> by going to the
<a href="https://github.com/cs450s26">CS450 Spring 2026 GitHub Organization</a> and clicking "New".</p><p><img src="new-repo-button.png" alt="" width="331" height="108"/></p><p><span style="font-weight: bold">Note</span>: The <a href="https://github.com/cs450s26">CS450 Spring 2026 GitHub Organization</a> must be the owner of the
repository. Please do not create the repository in your own account.</p><p><div class="SIntrapara">On the "Create a new repository" screen:
</div><div class="SIntrapara"><ul><li><p>Name the repository <span class="stt">hw&lt;X&gt;-&lt;LASTNAME&gt;-&lt;FIRSTNAME&gt;</span> where
     <span class="stt">&lt;X&gt;</span> is the current homework number.</p><p>For example, I would name my hw4
     repository <span class="stt">hw4-Chang-Stephen</span>.</p></li><li><p>Mark the repository as <span style="font-weight: bold">Private</span>.</p></li><li><p>Check "Add a README file".</p></li><li><p>Select the Racket template for the <span style="font-weight: bold">.gitignore</span>.</p></li><li><p>Choose whatever you wish for the <span style="font-weight: bold">license</span>.</p></li></ul></div></p><p>When done click "Create repository".</p></blockquote><h5 class="heading"><a name="(part._hw4updateracket450)"></a>Updating Racket450<span class="button-group"><a href="#(part._hw4updateracket450)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h5><blockquote class="SubFlow"><p>Make sure you have the latest version of <span class="stt">racket450</span>.</p><p>To do this from DrRacket, go to File -&gt; Package Manager -&gt; Currently Installed, search for "racket450", and then click "Update".</p><p>Alternatively, if you prefer the command line, run:</p><p><span class="stt">raco pkg update racket450</span></p></blockquote><h4 class="heading"><a name="(part._hw4reading)"></a>Reading<span class="button-group"><a href="#(part._hw4reading)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>Read any relevant sections of the <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a> section of the course website, e.g., <a href="designrecipe.html#%28tech._compound._data%29" class="techoutside" data-pltdoc="x"><span class="techinside">compound data</span></a> (topics that will be covered in future lectures are marked as such).</p><h4 class="heading"><a name="(part._hw4tasks)"></a>Tasks<span class="button-group"><a href="#(part._hw4tasks)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>The main code should go in a file named <span style="font-weight: bold"><span class="stt">hw4.rkt</span></span> that uses
<span class="stt">#lang racket450</span>, as described previously.</p><p>In this assignment we&rsquo;ll continue to work on a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span>
interactive program that could maybe eventually resemble a board game.</p><blockquote class="SubFlow"><p><span style="font-weight: bold">NOTE</span>: All assignments are designed so that it is quicker
           to complete them if you <span style="font-weight: bold"><span class="emph">start from scratch</span></span> and
           <span style="font-weight: bold"><span class="emph">follow the Design recipe</span></span>.
           No previous code or "solutions" to previous assignments are
           needed to complete any assignment. Do not attempt to complete this
           assignment by starting with some pile of code (from of a previous assignment or anywhere else)
           and trying to "make it work". Doing this demonstrates poor understanding of course concepts&#8212;<wbr></wbr>which focuses on the high-level programming <span class="emph">process</span> and not the final code&#8212;<wbr></wbr>and thus will receive a low grade.
           (It also usually leads to tedious bugs that are hard to
find and impossible to give help to.)</p></blockquote><blockquote class="SubFlow"><p>Here is a (MAYBE COMMING SOON)  <a href="hw4demo.html">online demo that approximates the behavior of the program</a> (Note: The course staff has no obligation to show any demo, because there won&rsquo;t be any such luxury in real-world programming. Thus, any demo is presented as-is and no questions will be answered. Do note that any JS demo may not be exactly the same as a Racket implementation).</p></blockquote><p><span style="font-weight: bold">NOTE</span>: The submitted program must be <span class="emph">only</span> a series of
<span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>s (both constants and function definitions are
allowed). It should not run any code (e.g., <span style="font-weight: bold">it should not start
the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> loop automatically</span>!). Not following this
will result in GradeScope errors and/or timeouts.</p><p>As usual, all code you write must
now follow the <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a>.
This means that languages features may only be used in the
correct scenarios, as called for by <a href="designrecipe.html" data-pltdoc="x">The Design Recipe</a>.</p><ul><li><p>For example, <span class="RktSym"><a href="https://docs.racket-lang.org/reference/set_.html#%28form._%28%28quote._~23~25kernel%29._set%21%29%29" class="RktStxLink" data-pltdoc="x">set!</a></span> and
    other "imperative" features are not allowed ever.</p></li><li><p>Conditionals such as <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span> and <span class="RktSym"><a href="https://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> are only to be used with the appropriate <a href="designrecipe.html#%28part._datadefinitions%29" data-pltdoc="x">Data Definitions</a> or in other appropriate scenarios described in class.</p></li><li><p><a href="designrecipe.html#%28tech._signature%29" class="techoutside" data-pltdoc="x"><span class="techinside">Signature</span></a>s should
use <span class="RktSym"><a href="https://docs.racket-lang.org/reference/attaching-contracts-to-values.html#%28form._%28%28lib._racket%2Fcontract%2Fregion..rkt%29._define%2Fcontract%29%29" class="RktStxLink" data-pltdoc="x">define/contract</a></span> and the predicates defined in the
<a href="designrecipe.html#%28part._datadesign%29" data-pltdoc="x">Data Design Recipe</a> step.</p></li><li><p>For <a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> and <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>, <span style="font-weight: bold">do not use</span>
<span class="RktSym">check-expect</span> from the Beginning Student Language (even though
the textbook says to). Instead, use <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span> or other
testing forms from <a href="https://docs.racket-lang.org/rackunit/api.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">rackunit</span></a> (which are built into <span class="stt">racket450</span>).</p></li><li><p><a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> for a function definition should be put before the
<span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span> in <span style="font-weight: bold"><span class="stt">hw4.rkt</span></span>.</p></li><li><p><a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a> should be put into <span style="font-weight: bold"><span class="stt">hw4-tests.rkt</span></span> that uses <span class="stt">#lang
racket450/testing</span>. Try to think about corner cases and code coverage.</p></li><li><blockquote class="SubFlow"><p><span style="font-weight: bold">(NEW)</span> <span style="font-weight: bold">NOTE:</span>
           One-line helper functions&#8212;<wbr></wbr>if the name and description
clearly describe what it does, and it clearly follows some Data
Definition and all other Design Recipe steps (the course staff is the
final arbiter of this)&#8212;<wbr></wbr>do not need to be submitted with
<a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Examples</span></a> and <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>, if they are covered by other
tests. ("Helper" functions are defined as functions not described in
the homework assignment description.) <span style="font-weight: bold">NOTE: This does not change
the Design Recipe.</span> It is only changing submission requirements. As
usual, however, we will not be able to debug code that does not follow
the design recipe, so omit these steps at your own risk.</p></blockquote></li><li><p>All other functions should have at minimum one
    <a href="designrecipe.html#%28tech._example%29" class="techoutside" data-pltdoc="x"><span class="techinside">Example</span></a> and "sufficient" <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Tests</span></a>.</p></li></ul><p><span class="Larger"><span style="font-weight: bold">High-Level "Game" Specifications</span></span></p><ul><li><p>This assignment will only involve a "Game Board" that contains "Cards".</p></li><li><p>The "Game Board" is a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29" class="RktValLink" data-pltdoc="x">square</a></span> that is a 3 x 3 grid of "Cards".</p></li><li><p>Each "Card" will be a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._square%29%29" class="RktValLink" data-pltdoc="x">square</a></span> with side <span class="stt">CARD-SIZE = 150</span> pixels such that exactly nine (3 x 3) fit onto a board</p></li><li><p>The "Board" will start with nine <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._random%29%29" class="RktValLink" data-pltdoc="x">random</a></span>ly generated "Cards"</p></li><li><p>When a user clicks on a "Card" it should go away and a new randomly generated Card should appear in its place</p></li></ul><p><span class="Larger"><span style="font-weight: bold">Data Definitions</span></span></p><p>The first step of any programming task is <a href="designrecipe.html#%28part._datadesign%29" data-pltdoc="x">Data Design</a>, i.e., defining the data types that the code will operate on.</p><p>Do not start writing any code until you have done this <a href="designrecipe.html#%28part._datadesign%29" data-pltdoc="x">Data Design</a> step.</p><p><div class="SIntrapara">For this assignment, define the following <a href="designrecipe.html#%28tech._data._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Data Definitions</span></a>:
</div><div class="SIntrapara"><ul><li><p>a <a href="designrecipe.html#%28tech._data._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Data Definition</span></a> named <span style="font-weight: bold"><span class="stt">Card</span></span> that represents a "Card" in the game.</p><p>You will need to decide the details of this data definition, e.g., the <a href="designrecipe.html#%28tech._interpretation%29" class="techoutside" data-pltdoc="x"><span class="techinside">interpretation</span></a>, etc, and there may be more than one choice.</p><p><div class="SIntrapara">But the data definition should at least have the following information:
  </div><div class="SIntrapara"><ul><li><p>the Card&rsquo;s point value which is an integer that can be zero, but should not exceed <span class="stt">MAX-POINTS = 5</span>.</p></li><li><p>the Card&rsquo;s color. The valid colors are <span class="stt">"red"</span>, <span class="stt">"green"</span>, and <span class="stt">"blue"</span></p></li><li><p>the "Cost" to acquire the card (see below)</p></li></ul></div></p></li><li><p>a <a href="designrecipe.html#%28tech._data._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Data Definition</span></a> named <span style="font-weight: bold"><span class="stt">Cost</span></span> that represents the "Cost" to acquire a "Card" in a game.</p><p>You will need to decide the details of this data definition, e.g., the <a href="designrecipe.html#%28tech._interpretation%29" class="techoutside" data-pltdoc="x"><span class="techinside">interpretation</span></a>, etc, and there may be more than one choice.</p><p><div class="SIntrapara">But the data definition should at least have the following information:
  </div><div class="SIntrapara"><ul><li><p>the number of "red Tokens" needed to acquire the card.</p></li><li><p>the number of "green Tokens" needed to acquire the card.</p></li><li><p>the number of "blue Tokens" needed to acquire the card.</p></li></ul></div></p><p>The minimum token cost for any color is 0 but it should not cost more than <span class="stt">MAX-COST = 4</span> tokens of any one color to acquire any card.</p></li><li><p>a <a href="designrecipe.html#%28tech._data._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">Data Definition</span></a> named <span style="font-weight: bold"><span class="stt">GameState</span></span> that represents the current "Board", i.e., the nine currently available "Cards" in the "game".</p><p><div class="SIntrapara">For this assignment, <span class="stt">GameState</span> is required to use a nine-element <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span> to contain the nine cards on the board. In addition,
  </div><div class="SIntrapara"><ul><li><p>the program must use the <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span> constructor function with nine arguments, or <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Flist..rkt%29._build-list%29%29" class="RktValLink" data-pltdoc="x">build-list</a></span> to construct the <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span></p></li><li><p>the program must use <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list-ref%29%29" class="RktValLink" data-pltdoc="x">list-ref</a></span> to access one element of a list (<span class="RktSym">match-define</span>, with the <span class="stt">list</span> pattern, is also allowed if all list elements are to be exacted at once)</p></li><li><p>the program must use <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._list-set%29%29" class="RktValLink" data-pltdoc="x">list-set</a></span> to replace an element of a list</p></li><li><p>the program can use the <span class="RktSym"><a href="https://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span> predicate to identify a list in contracts</p></li><li><p>no other list functions are allowed</p></li></ul></div><div class="SIntrapara">Note that <span class="stt">GameState</span> is still considered <a href="designrecipe.html#%28tech._compound._data%29" class="techoutside" data-pltdoc="x"><span class="techinside">compound data</span></a> so make sure to define all the other necessary components of a compound data definition for <span class="stt">GameState</span>, e.g., predicate, checked-constructor, etc.</div></p></li><li><p>You are allowed to define any other Data Defintions as you see fit</p></li></ul></div></p><p><span class="Larger"><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> <span style="font-weight: bold">Functions</span></span></p><p><div class="SIntrapara">Define the following functions:
</div><div class="SIntrapara"><ul><li><p>a function <span style="font-weight: bold"><span class="stt">draw-gamestate</span></span>, with <a href="designrecipe.html#%28tech._signature%29" class="techoutside" data-pltdoc="x"><span class="techinside">Signature</span></a> represented by contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">GameState?</span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span><span class="RktPn">)</span> that is given to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span>&rsquo;s <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span> clause (See below).</p><p>The <span class="stt">GameState</span> <span class="stt">Image</span> should draw the "Board" which is a 3 x 3 grid containing the currently available "Cards" and nothing else.</p></li><li><p><div class="SIntrapara">A <span class="stt">Card</span> image itself can also be described with a 3 x 3 grid:
</div><div class="SIntrapara"><ul><li><p>the top-third is a "solid" rectangle of the Card&rsquo;s color. The left-third of this top rectangle should have on top a "point value" image that is a square with the point value overlayed on top (similar to <a href="hw1.html" data-pltdoc="x">Homework 1</a>)</p></li><li><p>the middle-third has nothing</p></li><li><p>the bottom-third has a rendering of the <span class="stt">Cost</span>, which is three "Token" renderings of the appropriate color. The "Token" images should exactly fill the bottom-third, meaning that the sides either touch the side of the Card or each other.</p></li></ul></div><div class="SIntrapara">NOTE: A <span class="stt">Card</span> image might be similar to <span class="stt">goal-img</span> from <a href="hw1.html" data-pltdoc="x">Homework 1</a> but not the same. So review it if you wish, but it will be easier to start from scratch instead of copying code.</div></p></li><li><p>a mouse handler function called <span style="font-weight: bold"><span class="stt">handle-mouse</span></span> with <a href="designrecipe.html#%28tech._signature%29" class="techoutside" data-pltdoc="x"><span class="techinside">Signature</span></a> represented with contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">GameState?</span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse-event~3f%29%29" class="RktValLink" data-pltdoc="x">mouse-event?</a></span><span class="stt"> </span><span class="RktSym">GameState?</span><span class="RktPn">)</span> where <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28def._world._%28%28lib._2htdp%2Funiverse..rkt%29._mouse-event~3f%29%29" class="RktValLink" data-pltdoc="x">mouse-event?</a></span><span class="stt"> </span><span class="RktSym">k</span><span class="RktPn">)</span> evaluates to true if <span class="stt">k</span> is a valid <a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28tech._world._mouseevent%29">MouseEvent</a> from <span class="stt">2htdp/universe</span>.
  The function should be given to <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span>&rsquo;s <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29" class="RktStxLink" data-pltdoc="x">on-mouse</a></span> clause (See below).</p><p>The function it should only respond to a "button-down" mouse event. Everything else should be ignored, i.e., should not change the <span class="stt">GameState</span>. (You can assume that a "button-down" event can only occur if the mouse cursor is within the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> window.)</p><p>As previously mentioned, when a click occurs, the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> program should replace the clicked card with a random new one.</p></li><li><p>As usual, to start the "game", define a function <span style="font-weight: bold"><span class="stt">run</span></span> that takes no arguments and starts the <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> interactive loop</p><p><div class="SIntrapara">The <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> expression should:
</div><div class="SIntrapara"><ul><li><p>start with a random <span class="stt">GameState</span> that is generated by <span style="font-weight: bold"><span class="stt">random-gamestate</span></span></p></li><li><p>include a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span> clause that is given the <span style="font-weight: bold"><span class="stt">draw-gamestate</span></span> function.</p></li><li><p>include a <span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29" class="RktStxLink" data-pltdoc="x">on-mouse</a></span> clause that is given the <span style="font-weight: bold"><span class="stt">handle-mouse</span></span> function.</p></li></ul></div></p></li></ul></div></p><p><span class="Larger"><span style="font-weight: bold">Functions</span> with randomness</span></p><p><div class="SIntrapara">You will need to write the following functions that use randomness. Make sure to review and understand the behavior of the <span class="RktSym"><a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._random%29%29" class="RktValLink" data-pltdoc="x">random</a></span> function before you attempt to write these functions. Note that <a href="designrecipe.html#%28part._randomfns%29" data-pltdoc="x">"random" functions</a> have no input but should otherwise follow the <a href="designrecipe.html#%28tech._design._recipe%29" class="techoutside" data-pltdoc="x"><span class="techinside">Design Recipe</span></a>.
</div><div class="SIntrapara"><ul><li><p>a function <span style="font-weight: bold"><span class="stt">random-gamestate</span></span> with Signature represented by contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">GameState?</span><span class="RktPn">)</span> that contains nine random cards</p></li><li><p>a function <span style="font-weight: bold"><span class="stt">random-card</span></span> with Signature represented by contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">Card?</span><span class="RktPn">)</span> that returns a random <span class="stt">Card</span>. You will need to figure out how to generate random components of the <span class="stt">Card</span>, e.g., random color, point value, and <span class="stt">Cost</span></p></li></ul></div></p><p><span class="Larger"><span style="font-weight: bold">API for Grading</span></span></p><p>Finally, define the following accessor functions so your submission may be properly tested and graded for correctness.
These functions do not need to follow the <a href="designrecipe.html#%28tech._design._recipe%29" class="techoutside" data-pltdoc="x"><span class="techinside">Design Recipe</span></a>, e.g., you may combine several templates if needed.</p><ul><li><p><span style="font-weight: bold"><span class="stt">GameState-card</span></span>, with Signature represented by contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">GameState?</span><span class="stt"> </span><span class="RktSym">CardSlot?</span><span class="stt"> </span><span class="RktSym">Card?</span><span class="RktPn">)</span>
   where <span class="stt">CardSlot</span> is an integer in the range <span class="stt">[1,9]</span> representing a card position in the 3 x 3 grid of cards. The cards are numbered left-to-right, top-to-bottom, with 1 on the top left and 9 on the bottom right</p></li><li><p><span style="font-weight: bold"><span class="stt">Card-color</span></span>, with contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">Card?</span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._image-color~3f%29%29" class="RktValLink" data-pltdoc="x">image-color?</a></span><span class="RktPn">)</span>, where the returned color should only be <span class="stt">"red"</span>, <span class="stt">"green"</span>, or <span class="stt">"blue"</span>.</p></li><li><p><span style="font-weight: bold"><span class="stt">Card-point-value</span></span> with contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">Card?</span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span>, returns an integer between 0 and <span class="stt">MAX-POINTS = 5</span></p></li><li><p><span style="font-weight: bold"><span class="stt">Card-red-cost</span></span> with contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">Card?</span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span>, returns an integer between 0 and <span class="stt">MAX-COST = 5</span></p></li><li><p><span style="font-weight: bold"><span class="stt">Card-green-cost</span></span> with contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">Card?</span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span>, returns an integer between 0 and <span class="stt">MAX-COST = 5</span></p></li><li><p><span style="font-weight: bold"><span class="stt">Card-blue-cost</span></span> with contract <span class="RktPn">(</span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">Card?</span><span class="stt"> </span><span class="RktSym"><a href="https://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._integer~3f%29%29" class="RktValLink" data-pltdoc="x">integer?</a></span><span class="RktPn">)</span>, returns an integer between 0 and <span class="stt">MAX-COST = 5</span></p></li></ul><h4 class="heading"><a name="(part._hw4presubmit)"></a>Before Submitting<span class="button-group"><a href="#(part._hw4presubmit)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="SubFlow"><p><span class="Larger"><span style="font-weight: bold">Testing</span></span> (and Autograders)</p><p><div class="SIntrapara"><span class="emph">Before</span> submitting, note:
</div><div class="SIntrapara"><ul><li><p>Each programmer is solely responsible for testing their
program to make sure it&rsquo;s correct. Do not
submit until all code has been has a "sufficient"
number of <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Test</span></a> cases that verify its correctness.</p></li><li><p>Note that <span style="font-weight: bold">there is no GradeScope "Autograder" available for students</span> to use (an Autograder is
not a software development/testing tool anyways, so it should not be used as one).</p><p>Thus, no questions mentioning an Autograder will be answered, e.g., posts
asking "why is the Autograder giving an error?" are not allowed.</p><p>If you happen to find an Autograder and decide to look at its output despite this warning, please understand that it may be incorrect or incomplete, change at any time, or have random behavior, and that it in no way indicates the grade of the submitted hw.</p><p>Anyone that does get useful information from an Autograder, e.g., a failing test case or crashing code report, should treat it as bonus information (that you otherwise would not have had) that you and you alone must determine what to do with.</p><p>Regardless of what any Autograder might say, all code must still be independently
tested to be correct before it is submitted.</p></li><li><p>The proper way to ask questions is
with small code examples.  This means that each
question must include a small example code snippet along
with what the "expected" result should be!</p><p>Further, any
posted examples should contain the minimal amount of
code needed to explain the question. Full file
dumps or anything more than a few lines will not be accepted. More is not better. In fact it&rsquo;s worse because it takes longer to read and is less likely to get a good answer.</p></li></ul></div></p></blockquote><blockquote class="SubFlow"><p><span class="Larger"><span style="font-weight: bold">Style</span></span></p><p>All code should follow proper <a href="racketbasics.html#%28part._.Style%29" data-pltdoc="x">Racket Style</a>.</p><p>Also, the repository itself must follow proper style. Specifically, it
<span style="font-weight: bold">must have appropriate commit messages</span>. See
<a href="https://cbea.ms/git-commit/">How to Write a Git Commit Message</a>
if you are unsure how to write a commit message.</p><p>Note: <span style="font-weight: bold">Do not use the "file upload" feature on
Github</span>. The course staff may not accept hw uploaded in this way.</p></blockquote><blockquote class="SubFlow"><p><span class="Larger"><span style="font-weight: bold">Files</span></span></p><p>A submission <span style="font-weight: bold">must have the following files</span> in the repository root:</p><ul><li><p><span style="font-weight: bold"><span class="stt">hw4.rkt</span></span>: Contains the hw solution code.</p><p>The first line should be <span class="stt">#lang racket450</span>.</p><p>All <span class="RktSym"><a href="https://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>s should use the name specified in the
 exercise (ask if you are unsure).</p></li><li><p><span style="font-weight: bold"><span class="stt">hw4-tests.rkt</span></span>: This file should use the <span class="stt">#lang racket450/testing</span> language.</p><p>It should also <span class="RktSym"><a href="https://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span> <span class="stt">hw4.rkt</span>
      and define tests for it.</p><p>Specifically, it should
      contain "sufficient" <a href="designrecipe.html#%28tech._test%29" class="techoutside" data-pltdoc="x"><span class="techinside">Test</span></a> cases
      (e.g., <span class="RktSym"><a href="https://docs.racket-lang.org/rackunit/api.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._check-equal~3f%29%29" class="RktValLink" data-pltdoc="x">check-equal?</a></span>, etc.) for each defined function.</p></li><li><p><span style="font-weight: bold"><span class="stt">README.md</span></span>: Contains the <a href="policies.html#%28part._readme%29" data-pltdoc="x">required README information</a>,
including <span style="font-weight: bold">the GitHub repo url</span>.</p></li></ul></blockquote><h4 class="heading"><a name="(part._hw4submit)"></a>Submitting<span class="button-group"><a href="#(part._hw4submit)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><blockquote class="SubFlow"><p>When you are done, submit your work to <a href="https://www.gradescope.com/courses/1215278/assignments/7723925">Gradescope <span class="stt">hw4</span></a>. You must use
the "GitHub" <span style="font-weight: bold">Submission Method</span> and select your
<span class="stt">hw&lt;X&gt;-&lt;LASTNAME&gt;-&lt;FIRSTNAME&gt;</span> repository.</p><p><img src="gradescope-github-submit-button.png" alt="" width="503" height="166"/></p><p>Note that this is the only acceptable way to submit homework in this
course. (Do not manually upload files and do not email files to the
course staff. Homework submitted via any unapproved methods will not be graded.)</p></blockquote><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="hw3.html" title="backward to &quot;Homework 3&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;CS450: High-level Languages&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>